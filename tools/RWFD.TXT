

                        Read/Write FD  Ver.0.13
                   Copyright (C) 1999-2003  K.Takata


１．概要
    　フロッピーディスクなどのドライブを丸ごとファイル化します。また、そ
    のファイルを元のドライブに書き込みます。（32MB 以上のドライブにも対
    応。）
    　ダイレクトディスクアクセスのテストプログラムとして作った物なので
    CUI を採用しています。
    　ソースファイルも同梱しています。


２．動作環境
    ・Windows95/98/NT/2000  （PC-98, PC/AT 互換機 両対応）
    ・WinME/XP では動くはずですが、仮に動かなくても対応させる予定はあり
      ません。（PC-98 で動かない OS に用はない！）


３．使用方法
    (1) 読み込み
    　> rwfd drive: filename
    　drive: を読み込んで丸ごと（全セクタをそのまま）filename に書き出し
    ます。

    (2) 書き込み
    　> rwfd filename drive: [-f]
    　filename を drive: に書き込みます。drive: は filename と同じ形式で
    フォーマットされている必要があります。書き込むファイルは、全セクタを
    そのまま書き出したファイルならば rwfd で作成されたものでなくても書き
    込むことができます。例えば FreeBSD のインストールフロッピーで使われ
    ている *.flp 形式も、ファイルサイズが 1,474,560bytes または
    1,228,800bytes のものならば書き込み可能です。ただし rwfd が認識でき
    るフロッピーは MS-DOS 形式でフォーマットされたものだけですので、一度
    FreeBSD 形式などで書き込んだフロッピーに対してもう一度書き込む場合は
    フォーマットし直す必要があります。
    　-f オプションを指定すると、イメージファイルのフォーマットと、ドラ
    イブのフォーマットが一致していなくても強制的に書き込みます。
    FreeBSD(98) では 2HC(1.21MB) 用のイメージファイルを 2HD(1.44MB) に書
    き込んでも動作するようですので、そのようなときのためのオプションです。

    （注１）Ver.0.11 から 32MB 以上のドライブのファイル化もできるように
    なりました。約 2GB までは問題なく使えるはずです。うまくいけば約 4GB
    まで使えるかもしれませんが確認はしていません。少なくとも 540MB MO の
    ファイル化ができることは確認しています。

    （注２）Win9x でドライブへの書き込み中には、できるだけ他の作業をしな
    いことをお勧めします。まれに Win9x の動作が不安定になることがあるよ
    うです。（Ver.0.12 で少し改善したつもり。）


４．コンパイル
    　コンパイラは VC++ 6.0 を利用しています。コマンドラインから
    　> nmake -f rwfd.make
    　とするとコンパイルできます。


５．更新履歴
    2000/01/06  Ver.0.01
        ・最初の公開バージョン。

    2000/05/28  Ver.0.10
        ・Win2k に対応。それに伴いソースを一部 C から C++ に変更。
        ・非 MS-DOS 形式イメージファイルの書き込みに暫定対応。

    2000/07/02  Ver.0.11
        ・32MB 以上のドライブをファイル化できるように変更。
        ・細かいバグ修正。

    2001/11/24  Ver.0.12
        ・フォーマット形式が違う場合でも強制的に書き込みを行う -f オプシ
          ョンを新設。
        ・Win9x でドライブへ書き込む際に、他のアプリの動作が遅くなるのを
          少し改善。
        ・なぜか実行ファイルのサイズがやたらと大きくなってしまった。

    2003/01/08  Ver.0.13
        ・WinNT に対応。（NT では GetDiskFreeSpace の引数に NULL を指定
          してはいけないようだ。）


６．注意事項、その他
    ・このプログラムはフリーソフトウェアです。
    ・このプログラムの著作権は作者である私 K.Takata（高田 謙）に帰属しま
      す。
    ・もしこのプログラムを使用することで何らかの問題が発生しても作者はい
      っさいの責任を負いません。各自の責任で使用してください。
    ・アーカイブを変更しない限り配布／転載は自由です。
    ・ソースファイルの使用は非商用に限り自由です。

        作者   : K.Takata（高田 謙）
        E-mail : kentkt@anet.ne.jp, HZL03275@nifty.ne.jp
        URL    : http://webs.to/ken/
                 http://member.nifty.ne.jp/k-takata/
