     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_out8
     7 00000000                                 	EXTERN	_io_in8
     8 00000000                                 	EXTERN	_loadGdtr
     9 00000000                                 	EXTERN	_loadIdtr
    10 00000000                                 	EXTERN	_asm_interruptHandler21
    11 00000000                                 	EXTERN	_asm_interruptHandler27
    12 00000000                                 	EXTERN	_asm_interruptHandler2c
    13 00000000                                 	EXTERN	_io_load_eflags
    14 00000000                                 	EXTERN	_io_cli
    15 00000000                                 	EXTERN	_io_store_eflags
    16 00000000                                 	EXTERN	_font
    17 00000000                                 	EXTERN	_io_sti
    18 00000000                                 	EXTERN	_sprintf
    19 00000000                                 	EXTERN	_io_stihlt
    20 00000000                                 [FILE "bootpack.c"]
    21                                          [SECTION .text]
    22 00000000                                 	GLOBAL	_QueueInit
    23 00000000                                 _QueueInit:
    24 00000000 55                              	PUSH	EBP
    25 00000001 89 E5                           	MOV	EBP,ESP
    26 00000003 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    27 00000006 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
    28 00000009 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
    29 0000000C 89 48 0C                        	MOV	DWORD [12+EAX],ECX
    30 0000000F 89 10                           	MOV	DWORD [EAX],EDX
    31 00000011 89 48 10                        	MOV	DWORD [16+EAX],ECX
    32 00000014 C7 40 14 00000000               	MOV	DWORD [20+EAX],0
    33 0000001B C7 40 08 00000000               	MOV	DWORD [8+EAX],0
    34 00000022 C7 40 04 00000000               	MOV	DWORD [4+EAX],0
    35 00000029 5D                              	POP	EBP
    36 0000002A C3                              	RET
    37 0000002B                                 	GLOBAL	_QueuePush
    38 0000002B                                 _QueuePush:
    39 0000002B 55                              	PUSH	EBP
    40 0000002C 89 E5                           	MOV	EBP,ESP
    41 0000002E 53                              	PUSH	EBX
    42 0000002F 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
    43 00000032 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
    44 00000035 83 79 10 00                     	CMP	DWORD [16+ECX],0
    45 00000039 75 0D                           	JNE	L3
    46 0000003B 83 C8 FF                        	OR	EAX,-1
    47 0000003E C7 41 14 00000001               	MOV	DWORD [20+ECX],1
    48 00000045                                 L2:
    49 00000045 5B                              	POP	EBX
    50 00000046 5D                              	POP	EBP
    51 00000047 C3                              	RET
    52 00000048                                 L3:
    53 00000048 8B 41 04                        	MOV	EAX,DWORD [4+ECX]
    54 0000004B 8B 11                           	MOV	EDX,DWORD [ECX]
    55 0000004D 88 1C 10                        	MOV	BYTE [EAX+EDX*1],BL
    56 00000050 8B 41 04                        	MOV	EAX,DWORD [4+ECX]
    57 00000053 FF 49 10                        	DEC	DWORD [16+ECX]
    58 00000056 40                              	INC	EAX
    59 00000057 99                              	CDQ
    60 00000058 F7 79 0C                        	IDIV	DWORD [12+ECX]
    61 0000005B 31 C0                           	XOR	EAX,EAX
    62 0000005D 89 51 04                        	MOV	DWORD [4+ECX],EDX
    63 00000060 EB E3                           	JMP	L2
    64 00000062                                 	GLOBAL	_QueuePop
    65 00000062                                 _QueuePop:
    66 00000062 55                              	PUSH	EBP
    67 00000063 83 C8 FF                        	OR	EAX,-1
    68 00000066 89 E5                           	MOV	EBP,ESP
    69 00000068 57                              	PUSH	EDI
    70 00000069 56                              	PUSH	ESI
    71 0000006A 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
    72 0000006D 53                              	PUSH	EBX
    73 0000006E 8B 7E 10                        	MOV	EDI,DWORD [16+ESI]
    74 00000071 8B 5E 0C                        	MOV	EBX,DWORD [12+ESI]
    75 00000074 39 DF                           	CMP	EDI,EBX
    76 00000076 74 18                           	JE	L4
    77 00000078 8B 46 08                        	MOV	EAX,DWORD [8+ESI]
    78 0000007B 8B 16                           	MOV	EDX,DWORD [ESI]
    79 0000007D 0F B6 0C 10                     	MOVZX	ECX,BYTE [EAX+EDX*1]
    80 00000081 40                              	INC	EAX
    81 00000082 99                              	CDQ
    82 00000083 F7 FB                           	IDIV	EBX
    83 00000085 8D 47 01                        	LEA	EAX,DWORD [1+EDI]
    84 00000088 89 56 08                        	MOV	DWORD [8+ESI],EDX
    85 0000008B 89 46 10                        	MOV	DWORD [16+ESI],EAX
    86 0000008E 89 C8                           	MOV	EAX,ECX
    87 00000090                                 L4:
    88 00000090 5B                              	POP	EBX
    89 00000091 5E                              	POP	ESI
    90 00000092 5F                              	POP	EDI
    91 00000093 5D                              	POP	EBP
    92 00000094 C3                              	RET
    93 00000095                                 	GLOBAL	_QueueSize
    94 00000095                                 _QueueSize:
    95 00000095 55                              	PUSH	EBP
    96 00000096 89 E5                           	MOV	EBP,ESP
    97 00000098 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
    98 0000009B 5D                              	POP	EBP
    99 0000009C 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
   100 0000009F 2B 42 10                        	SUB	EAX,DWORD [16+EDX]
   101 000000A2 C3                              	RET
   102 000000A3                                 	GLOBAL	_init_pic
   103 000000A3                                 _init_pic:
   104 000000A3 55                              	PUSH	EBP
   105 000000A4 89 E5                           	MOV	EBP,ESP
   106 000000A6 68 000000FF                     	PUSH	255
   107 000000AB 6A 21                           	PUSH	33
   108 000000AD E8 [00000000]                   	CALL	_io_out8
   109 000000B2 68 000000FF                     	PUSH	255
   110 000000B7 68 000000A1                     	PUSH	161
   111 000000BC E8 [00000000]                   	CALL	_io_out8
   112 000000C1 6A 11                           	PUSH	17
   113 000000C3 6A 20                           	PUSH	32
   114 000000C5 E8 [00000000]                   	CALL	_io_out8
   115 000000CA 6A 20                           	PUSH	32
   116 000000CC 6A 21                           	PUSH	33
   117 000000CE E8 [00000000]                   	CALL	_io_out8
   118 000000D3 83 C4 20                        	ADD	ESP,32
   119 000000D6 6A 04                           	PUSH	4
   120 000000D8 6A 21                           	PUSH	33
   121 000000DA E8 [00000000]                   	CALL	_io_out8
   122 000000DF 6A 01                           	PUSH	1
   123 000000E1 6A 21                           	PUSH	33
   124 000000E3 E8 [00000000]                   	CALL	_io_out8
   125 000000E8 6A 11                           	PUSH	17
   126 000000EA 68 000000A0                     	PUSH	160
   127 000000EF E8 [00000000]                   	CALL	_io_out8
   128 000000F4 6A 28                           	PUSH	40
   129 000000F6 68 000000A1                     	PUSH	161
   130 000000FB E8 [00000000]                   	CALL	_io_out8
   131 00000100 83 C4 20                        	ADD	ESP,32
   132 00000103 6A 02                           	PUSH	2
   133 00000105 68 000000A1                     	PUSH	161
   134 0000010A E8 [00000000]                   	CALL	_io_out8
   135 0000010F 6A 01                           	PUSH	1
   136 00000111 68 000000A1                     	PUSH	161
   137 00000116 E8 [00000000]                   	CALL	_io_out8
   138 0000011B 68 000000FB                     	PUSH	251
   139 00000120 6A 21                           	PUSH	33
   140 00000122 E8 [00000000]                   	CALL	_io_out8
   141 00000127 68 000000FF                     	PUSH	255
   142 0000012C 68 000000A1                     	PUSH	161
   143 00000131 E8 [00000000]                   	CALL	_io_out8
   144 00000136 C9                              	LEAVE
   145 00000137 C3                              	RET
   146 00000138                                 	GLOBAL	_interruptHandler21
   147 00000138                                 _interruptHandler21:
   148 00000138 55                              	PUSH	EBP
   149 00000139 89 E5                           	MOV	EBP,ESP
   150 0000013B 6A 61                           	PUSH	97
   151 0000013D 6A 20                           	PUSH	32
   152 0000013F E8 [00000000]                   	CALL	_io_out8
   153 00000144 6A 60                           	PUSH	96
   154 00000146 E8 [00000000]                   	CALL	_io_in8
   155 0000014B 0F B6 C0                        	MOVZX	EAX,AL
   156 0000014E 50                              	PUSH	EAX
   157 0000014F 68 [00000160]                   	PUSH	_keybuf
   158 00000154 E8 FFFFFED2                     	CALL	_QueuePush
   159 00000159 C9                              	LEAVE
   160 0000015A C3                              	RET
   161 0000015B                                 	GLOBAL	_interruptHandler27
   162 0000015B                                 _interruptHandler27:
   163 0000015B 55                              	PUSH	EBP
   164 0000015C 89 E5                           	MOV	EBP,ESP
   165 0000015E 6A 67                           	PUSH	103
   166 00000160 6A 20                           	PUSH	32
   167 00000162 E8 [00000000]                   	CALL	_io_out8
   168 00000167 C9                              	LEAVE
   169 00000168 C3                              	RET
   170 00000169                                 	GLOBAL	_interruptHandler2c
   171 00000169                                 _interruptHandler2c:
   172 00000169 55                              	PUSH	EBP
   173 0000016A 89 E5                           	MOV	EBP,ESP
   174 0000016C 6A 64                           	PUSH	100
   175 0000016E 68 000000A0                     	PUSH	160
   176 00000173 E8 [00000000]                   	CALL	_io_out8
   177 00000178 6A 62                           	PUSH	98
   178 0000017A 6A 20                           	PUSH	32
   179 0000017C E8 [00000000]                   	CALL	_io_out8
   180 00000181 6A 60                           	PUSH	96
   181 00000183 E8 [00000000]                   	CALL	_io_in8
   182 00000188 0F B6 C0                        	MOVZX	EAX,AL
   183 0000018B 50                              	PUSH	EAX
   184 0000018C 68 [00000180]                   	PUSH	_mousebuf
   185 00000191 E8 FFFFFE95                     	CALL	_QueuePush
   186 00000196 C9                              	LEAVE
   187 00000197 C3                              	RET
   188 00000198                                 	GLOBAL	_setSegmdesc
   189 00000198                                 _setSegmdesc:
   190 00000198 55                              	PUSH	EBP
   191 00000199 89 E5                           	MOV	EBP,ESP
   192 0000019B 53                              	PUSH	EBX
   193 0000019C 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   194 0000019F 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   195 000001A2 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   196 000001A5 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   197 000001A8 81 FA 000FFFFF                  	CMP	EDX,1048575
   198 000001AE 76 08                           	JBE	L12
   199 000001B0 C1 EA 0C                        	SHR	EDX,12
   200 000001B3 0D 00008000                     	OR	EAX,32768
   201 000001B8                                 L12:
   202 000001B8 66 89 13                        	MOV	WORD [EBX],DX
   203 000001BB 88 43 05                        	MOV	BYTE [5+EBX],AL
   204 000001BE C1 EA 10                        	SHR	EDX,16
   205 000001C1 C1 F8 08                        	SAR	EAX,8
   206 000001C4 83 E2 0F                        	AND	EDX,15
   207 000001C7 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   208 000001CB 83 E0 F0                        	AND	EAX,-16
   209 000001CE C1 F9 10                        	SAR	ECX,16
   210 000001D1 09 C2                           	OR	EDX,EAX
   211 000001D3 88 4B 04                        	MOV	BYTE [4+EBX],CL
   212 000001D6 88 53 06                        	MOV	BYTE [6+EBX],DL
   213 000001D9 C1 F9 08                        	SAR	ECX,8
   214 000001DC 88 4B 07                        	MOV	BYTE [7+EBX],CL
   215 000001DF 5B                              	POP	EBX
   216 000001E0 5D                              	POP	EBP
   217 000001E1 C3                              	RET
   218 000001E2                                 	GLOBAL	_setGatedesc
   219 000001E2                                 _setGatedesc:
   220 000001E2 55                              	PUSH	EBP
   221 000001E3 89 E5                           	MOV	EBP,ESP
   222 000001E5 53                              	PUSH	EBX
   223 000001E6 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   224 000001E9 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   225 000001EC 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   226 000001EF 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   227 000001F2 66 89 42 02                     	MOV	WORD [2+EDX],AX
   228 000001F6 88 5A 05                        	MOV	BYTE [5+EDX],BL
   229 000001F9 66 89 0A                        	MOV	WORD [EDX],CX
   230 000001FC 89 D8                           	MOV	EAX,EBX
   231 000001FE C1 F8 08                        	SAR	EAX,8
   232 00000201 C1 F9 10                        	SAR	ECX,16
   233 00000204 88 42 04                        	MOV	BYTE [4+EDX],AL
   234 00000207 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   235 0000020B 5B                              	POP	EBX
   236 0000020C 5D                              	POP	EBP
   237 0000020D C3                              	RET
   238 0000020E                                 	GLOBAL	_initGdtit
   239 0000020E                                 _initGdtit:
   240 0000020E 55                              	PUSH	EBP
   241 0000020F 89 E5                           	MOV	EBP,ESP
   242 00000211 56                              	PUSH	ESI
   243 00000212 53                              	PUSH	EBX
   244 00000213 BE 00270000                     	MOV	ESI,2555904
   245 00000218 BB 00001FFF                     	MOV	EBX,8191
   246 0000021D                                 L19:
   247 0000021D 6A 00                           	PUSH	0
   248 0000021F 6A 00                           	PUSH	0
   249 00000221 6A 00                           	PUSH	0
   250 00000223 56                              	PUSH	ESI
   251 00000224 83 C6 08                        	ADD	ESI,8
   252 00000227 E8 FFFFFF6C                     	CALL	_setSegmdesc
   253 0000022C 83 C4 10                        	ADD	ESP,16
   254 0000022F 4B                              	DEC	EBX
   255 00000230 79 EB                           	JNS	L19
   256 00000232 68 00004092                     	PUSH	16530
   257 00000237 BE 0026F800                     	MOV	ESI,2553856
   258 0000023C 6A 00                           	PUSH	0
   259 0000023E BB 000000FF                     	MOV	EBX,255
   260 00000243 6A FF                           	PUSH	-1
   261 00000245 68 00270008                     	PUSH	2555912
   262 0000024A E8 FFFFFF49                     	CALL	_setSegmdesc
   263 0000024F 68 0000409A                     	PUSH	16538
   264 00000254 68 00280000                     	PUSH	2621440
   265 00000259 68 0007FFFF                     	PUSH	524287
   266 0000025E 68 00270010                     	PUSH	2555920
   267 00000263 E8 FFFFFF30                     	CALL	_setSegmdesc
   268 00000268 83 C4 20                        	ADD	ESP,32
   269 0000026B 68 00270000                     	PUSH	2555904
   270 00000270 68 0000FFFF                     	PUSH	65535
   271 00000275 E8 [00000000]                   	CALL	_loadGdtr
   272 0000027A 58                              	POP	EAX
   273 0000027B 5A                              	POP	EDX
   274 0000027C                                 L24:
   275 0000027C 6A 00                           	PUSH	0
   276 0000027E 6A 00                           	PUSH	0
   277 00000280 6A 00                           	PUSH	0
   278 00000282 56                              	PUSH	ESI
   279 00000283 83 C6 08                        	ADD	ESI,8
   280 00000286 E8 FFFFFF57                     	CALL	_setGatedesc
   281 0000028B 83 C4 10                        	ADD	ESP,16
   282 0000028E 4B                              	DEC	EBX
   283 0000028F 79 EB                           	JNS	L24
   284 00000291 68 0026F800                     	PUSH	2553856
   285 00000296 68 000007FF                     	PUSH	2047
   286 0000029B E8 [00000000]                   	CALL	_loadIdtr
   287 000002A0 68 0000008E                     	PUSH	142
   288 000002A5 6A 10                           	PUSH	16
   289 000002A7 68 [00000000]                   	PUSH	_asm_interruptHandler21
   290 000002AC 68 0026F908                     	PUSH	2554120
   291 000002B1 E8 FFFFFF2C                     	CALL	_setGatedesc
   292 000002B6 68 0000008E                     	PUSH	142
   293 000002BB 6A 10                           	PUSH	16
   294 000002BD 68 [00000000]                   	PUSH	_asm_interruptHandler27
   295 000002C2 68 0026F938                     	PUSH	2554168
   296 000002C7 E8 FFFFFF16                     	CALL	_setGatedesc
   297 000002CC 83 C4 28                        	ADD	ESP,40
   298 000002CF 68 0000008E                     	PUSH	142
   299 000002D4 6A 10                           	PUSH	16
   300 000002D6 68 [00000000]                   	PUSH	_asm_interruptHandler2c
   301 000002DB 68 0026F960                     	PUSH	2554208
   302 000002E0 E8 FFFFFEFD                     	CALL	_setGatedesc
   303 000002E5 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   304 000002E8 5B                              	POP	EBX
   305 000002E9 5E                              	POP	ESI
   306 000002EA 5D                              	POP	EBP
   307 000002EB C3                              	RET
   308 000002EC                                 	GLOBAL	_set_palette
   309 000002EC                                 _set_palette:
   310 000002EC 55                              	PUSH	EBP
   311 000002ED 89 E5                           	MOV	EBP,ESP
   312 000002EF 57                              	PUSH	EDI
   313 000002F0 56                              	PUSH	ESI
   314 000002F1 53                              	PUSH	EBX
   315 000002F2 50                              	PUSH	EAX
   316 000002F3 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   317 000002F6 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   318 000002F9 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   319 000002FC E8 [00000000]                   	CALL	_io_load_eflags
   320 00000301 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   321 00000304 E8 [00000000]                   	CALL	_io_cli
   322 00000309 53                              	PUSH	EBX
   323 0000030A 68 000003C8                     	PUSH	968
   324 0000030F E8 [00000000]                   	CALL	_io_out8
   325 00000314 39 FB                           	CMP	EBX,EDI
   326 00000316 59                              	POP	ECX
   327 00000317 58                              	POP	EAX
   328 00000318 7D 48                           	JGE	L36
   329 0000031A 29 DF                           	SUB	EDI,EBX
   330 0000031C 89 FB                           	MOV	EBX,EDI
   331 0000031E                                 L34:
   332 0000031E 8A 06                           	MOV	AL,BYTE [ESI]
   333 00000320 C0 E8 02                        	SHR	AL,2
   334 00000323 0F B6 C0                        	MOVZX	EAX,AL
   335 00000326 50                              	PUSH	EAX
   336 00000327 68 000003C9                     	PUSH	969
   337 0000032C E8 [00000000]                   	CALL	_io_out8
   338 00000331 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   339 00000334 C0 E8 02                        	SHR	AL,2
   340 00000337 0F B6 C0                        	MOVZX	EAX,AL
   341 0000033A 50                              	PUSH	EAX
   342 0000033B 68 000003C9                     	PUSH	969
   343 00000340 E8 [00000000]                   	CALL	_io_out8
   344 00000345 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   345 00000348 C0 E8 02                        	SHR	AL,2
   346 0000034B 83 C6 03                        	ADD	ESI,3
   347 0000034E 0F B6 C0                        	MOVZX	EAX,AL
   348 00000351 50                              	PUSH	EAX
   349 00000352 68 000003C9                     	PUSH	969
   350 00000357 E8 [00000000]                   	CALL	_io_out8
   351 0000035C 83 C4 18                        	ADD	ESP,24
   352 0000035F 4B                              	DEC	EBX
   353 00000360 75 BC                           	JNE	L34
   354 00000362                                 L36:
   355 00000362 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   356 00000365 89 45 08                        	MOV	DWORD [8+EBP],EAX
   357 00000368 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   358 0000036B 5B                              	POP	EBX
   359 0000036C 5E                              	POP	ESI
   360 0000036D 5F                              	POP	EDI
   361 0000036E 5D                              	POP	EBP
   362 0000036F E9 [00000000]                   	JMP	_io_store_eflags
   363                                          [SECTION .data]
   364 00000000                                 _table_rgb.0:
   365 00000000 00                              	DB	0
   366 00000001 00                              	DB	0
   367 00000002 00                              	DB	0
   368 00000003 FF                              	DB	-1
   369 00000004 00                              	DB	0
   370 00000005 00                              	DB	0
   371 00000006 00                              	DB	0
   372 00000007 FF                              	DB	-1
   373 00000008 00                              	DB	0
   374 00000009 FF                              	DB	-1
   375 0000000A FF                              	DB	-1
   376 0000000B 00                              	DB	0
   377 0000000C 00                              	DB	0
   378 0000000D 00                              	DB	0
   379 0000000E FF                              	DB	-1
   380 0000000F FF                              	DB	-1
   381 00000010 00                              	DB	0
   382 00000011 FF                              	DB	-1
   383 00000012 00                              	DB	0
   384 00000013 FF                              	DB	-1
   385 00000014 FF                              	DB	-1
   386 00000015 FF                              	DB	-1
   387 00000016 FF                              	DB	-1
   388 00000017 FF                              	DB	-1
   389 00000018 C6                              	DB	-58
   390 00000019 C6                              	DB	-58
   391 0000001A C6                              	DB	-58
   392 0000001B 84                              	DB	-124
   393 0000001C 00                              	DB	0
   394 0000001D 00                              	DB	0
   395 0000001E 00                              	DB	0
   396 0000001F 84                              	DB	-124
   397 00000020 00                              	DB	0
   398 00000021 84                              	DB	-124
   399 00000022 84                              	DB	-124
   400 00000023 00                              	DB	0
   401 00000024 00                              	DB	0
   402 00000025 00                              	DB	0
   403 00000026 84                              	DB	-124
   404 00000027 84                              	DB	-124
   405 00000028 00                              	DB	0
   406 00000029 84                              	DB	-124
   407 0000002A 00                              	DB	0
   408 0000002B 84                              	DB	-124
   409 0000002C 84                              	DB	-124
   410 0000002D 84                              	DB	-124
   411 0000002E 84                              	DB	-124
   412 0000002F 84                              	DB	-124
   413                                          [SECTION .text]
   414 00000374                                 	GLOBAL	_init_palette
   415 00000374                                 _init_palette:
   416 00000374 55                              	PUSH	EBP
   417 00000375 89 E5                           	MOV	EBP,ESP
   418 00000377 68 [00000000]                   	PUSH	_table_rgb.0
   419 0000037C 6A 0F                           	PUSH	15
   420 0000037E 6A 00                           	PUSH	0
   421 00000380 E8 FFFFFF67                     	CALL	_set_palette
   422 00000385 C9                              	LEAVE
   423 00000386 C3                              	RET
   424 00000387                                 	GLOBAL	_boxFill8
   425 00000387                                 _boxFill8:
   426 00000387 55                              	PUSH	EBP
   427 00000388 89 E5                           	MOV	EBP,ESP
   428 0000038A 57                              	PUSH	EDI
   429 0000038B 56                              	PUSH	ESI
   430 0000038C 53                              	PUSH	EBX
   431 0000038D 51                              	PUSH	ECX
   432 0000038E 51                              	PUSH	ECX
   433 0000038F 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   434 00000392 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   435 00000395 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   436 00000398 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   437 0000039B 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   438 0000039E 7F 31                           	JG	L50
   439 000003A0 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   440 000003A3 0F AF D9                        	IMUL	EBX,ECX
   441 000003A6                                 L48:
   442 000003A6 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   443 000003A9 39 FA                           	CMP	EDX,EDI
   444 000003AB 7F 1B                           	JG	L52
   445 000003AD 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   446 000003B0 01 DE                           	ADD	ESI,EBX
   447 000003B2 01 D6                           	ADD	ESI,EDX
   448 000003B4 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   449 000003B7                                 L47:
   450 000003B7 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   451 000003BA 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   452 000003BD 42                              	INC	EDX
   453 000003BE 88 06                           	MOV	BYTE [ESI],AL
   454 000003C0 46                              	INC	ESI
   455 000003C1 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   456 000003C4 39 FA                           	CMP	EDX,EDI
   457 000003C6 7E EF                           	JLE	L47
   458 000003C8                                 L52:
   459 000003C8 41                              	INC	ECX
   460 000003C9 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   461 000003CC 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   462 000003CF 7E D5                           	JLE	L48
   463 000003D1                                 L50:
   464 000003D1 58                              	POP	EAX
   465 000003D2 5A                              	POP	EDX
   466 000003D3 5B                              	POP	EBX
   467 000003D4 5E                              	POP	ESI
   468 000003D5 5F                              	POP	EDI
   469 000003D6 5D                              	POP	EBP
   470 000003D7 C3                              	RET
   471 000003D8                                 	GLOBAL	_init_GUI
   472 000003D8                                 _init_GUI:
   473 000003D8 55                              	PUSH	EBP
   474 000003D9 89 E5                           	MOV	EBP,ESP
   475 000003DB 57                              	PUSH	EDI
   476 000003DC 56                              	PUSH	ESI
   477 000003DD 53                              	PUSH	EBX
   478 000003DE 83 EC 0C                        	SUB	ESP,12
   479 000003E1 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   480 000003E4 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   481 000003E7 83 E8 1D                        	SUB	EAX,29
   482 000003EA 4F                              	DEC	EDI
   483 000003EB 50                              	PUSH	EAX
   484 000003EC 57                              	PUSH	EDI
   485 000003ED 6A 00                           	PUSH	0
   486 000003EF 6A 00                           	PUSH	0
   487 000003F1 6A 0E                           	PUSH	14
   488 000003F3 FF 75 0C                        	PUSH	DWORD [12+EBP]
   489 000003F6 FF 75 08                        	PUSH	DWORD [8+EBP]
   490 000003F9 E8 FFFFFF89                     	CALL	_boxFill8
   491 000003FE 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   492 00000401 83 E8 1C                        	SUB	EAX,28
   493 00000404 50                              	PUSH	EAX
   494 00000405 57                              	PUSH	EDI
   495 00000406 50                              	PUSH	EAX
   496 00000407 6A 00                           	PUSH	0
   497 00000409 6A 08                           	PUSH	8
   498 0000040B FF 75 0C                        	PUSH	DWORD [12+EBP]
   499 0000040E FF 75 08                        	PUSH	DWORD [8+EBP]
   500 00000411 E8 FFFFFF71                     	CALL	_boxFill8
   501 00000416 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   502 00000419 83 C4 38                        	ADD	ESP,56
   503 0000041C 83 E8 1B                        	SUB	EAX,27
   504 0000041F 50                              	PUSH	EAX
   505 00000420 57                              	PUSH	EDI
   506 00000421 50                              	PUSH	EAX
   507 00000422 6A 00                           	PUSH	0
   508 00000424 6A 07                           	PUSH	7
   509 00000426 FF 75 0C                        	PUSH	DWORD [12+EBP]
   510 00000429 FF 75 08                        	PUSH	DWORD [8+EBP]
   511 0000042C E8 FFFFFF56                     	CALL	_boxFill8
   512 00000431 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   513 00000434 48                              	DEC	EAX
   514 00000435 50                              	PUSH	EAX
   515 00000436 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   516 00000439 57                              	PUSH	EDI
   517 0000043A 83 E8 1A                        	SUB	EAX,26
   518 0000043D 50                              	PUSH	EAX
   519 0000043E 6A 00                           	PUSH	0
   520 00000440 6A 08                           	PUSH	8
   521 00000442 FF 75 0C                        	PUSH	DWORD [12+EBP]
   522 00000445 FF 75 08                        	PUSH	DWORD [8+EBP]
   523 00000448 E8 FFFFFF3A                     	CALL	_boxFill8
   524 0000044D 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   525 00000450 83 C4 38                        	ADD	ESP,56
   526 00000453 83 EE 18                        	SUB	ESI,24
   527 00000456 56                              	PUSH	ESI
   528 00000457 6A 3B                           	PUSH	59
   529 00000459 56                              	PUSH	ESI
   530 0000045A 6A 03                           	PUSH	3
   531 0000045C 6A 07                           	PUSH	7
   532 0000045E FF 75 0C                        	PUSH	DWORD [12+EBP]
   533 00000461 FF 75 08                        	PUSH	DWORD [8+EBP]
   534 00000464 E8 FFFFFF1E                     	CALL	_boxFill8
   535 00000469 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   536 0000046C 83 E8 04                        	SUB	EAX,4
   537 0000046F 50                              	PUSH	EAX
   538 00000470 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   539 00000473 6A 02                           	PUSH	2
   540 00000475 56                              	PUSH	ESI
   541 00000476 6A 02                           	PUSH	2
   542 00000478 6A 07                           	PUSH	7
   543 0000047A FF 75 0C                        	PUSH	DWORD [12+EBP]
   544 0000047D FF 75 08                        	PUSH	DWORD [8+EBP]
   545 00000480 E8 FFFFFF02                     	CALL	_boxFill8
   546 00000485 83 C4 38                        	ADD	ESP,56
   547 00000488 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   548 0000048B 6A 3B                           	PUSH	59
   549 0000048D FF 75 F0                        	PUSH	DWORD [-16+EBP]
   550 00000490 6A 03                           	PUSH	3
   551 00000492 6A 0F                           	PUSH	15
   552 00000494 FF 75 0C                        	PUSH	DWORD [12+EBP]
   553 00000497 FF 75 08                        	PUSH	DWORD [8+EBP]
   554 0000049A E8 FFFFFEE8                     	CALL	_boxFill8
   555 0000049F 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   556 000004A2 83 E8 05                        	SUB	EAX,5
   557 000004A5 50                              	PUSH	EAX
   558 000004A6 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   559 000004A9 6A 3B                           	PUSH	59
   560 000004AB 83 E8 17                        	SUB	EAX,23
   561 000004AE 50                              	PUSH	EAX
   562 000004AF 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   563 000004B2 6A 3B                           	PUSH	59
   564 000004B4 6A 0F                           	PUSH	15
   565 000004B6 FF 75 0C                        	PUSH	DWORD [12+EBP]
   566 000004B9 FF 75 08                        	PUSH	DWORD [8+EBP]
   567 000004BC E8 FFFFFEC6                     	CALL	_boxFill8
   568 000004C1 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   569 000004C4 83 C4 38                        	ADD	ESP,56
   570 000004C7 83 E8 03                        	SUB	EAX,3
   571 000004CA 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   572 000004CD 50                              	PUSH	EAX
   573 000004CE 6A 3B                           	PUSH	59
   574 000004D0 50                              	PUSH	EAX
   575 000004D1 6A 02                           	PUSH	2
   576 000004D3 6A 00                           	PUSH	0
   577 000004D5 FF 75 0C                        	PUSH	DWORD [12+EBP]
   578 000004D8 FF 75 08                        	PUSH	DWORD [8+EBP]
   579 000004DB E8 FFFFFEA7                     	CALL	_boxFill8
   580 000004E0 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   581 000004E3 6A 3C                           	PUSH	60
   582 000004E5 56                              	PUSH	ESI
   583 000004E6 6A 3C                           	PUSH	60
   584 000004E8 6A 00                           	PUSH	0
   585 000004EA FF 75 0C                        	PUSH	DWORD [12+EBP]
   586 000004ED FF 75 08                        	PUSH	DWORD [8+EBP]
   587 000004F0 E8 FFFFFE92                     	CALL	_boxFill8
   588 000004F5 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   589 000004F8 83 C4 38                        	ADD	ESP,56
   590 000004FB 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   591 000004FE 83 EB 04                        	SUB	EBX,4
   592 00000501 83 EF 2F                        	SUB	EDI,47
   593 00000504 56                              	PUSH	ESI
   594 00000505 53                              	PUSH	EBX
   595 00000506 56                              	PUSH	ESI
   596 00000507 57                              	PUSH	EDI
   597 00000508 6A 0F                           	PUSH	15
   598 0000050A FF 75 0C                        	PUSH	DWORD [12+EBP]
   599 0000050D FF 75 08                        	PUSH	DWORD [8+EBP]
   600 00000510 E8 FFFFFE72                     	CALL	_boxFill8
   601 00000515 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   602 00000518 57                              	PUSH	EDI
   603 00000519 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   604 0000051C 57                              	PUSH	EDI
   605 0000051D 6A 0F                           	PUSH	15
   606 0000051F FF 75 0C                        	PUSH	DWORD [12+EBP]
   607 00000522 FF 75 08                        	PUSH	DWORD [8+EBP]
   608 00000525 E8 FFFFFE5D                     	CALL	_boxFill8
   609 0000052A 83 C4 38                        	ADD	ESP,56
   610 0000052D FF 75 E8                        	PUSH	DWORD [-24+EBP]
   611 00000530 53                              	PUSH	EBX
   612 00000531 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   613 00000534 57                              	PUSH	EDI
   614 00000535 6A 07                           	PUSH	7
   615 00000537 FF 75 0C                        	PUSH	DWORD [12+EBP]
   616 0000053A FF 75 08                        	PUSH	DWORD [8+EBP]
   617 0000053D E8 FFFFFE45                     	CALL	_boxFill8
   618 00000542 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   619 00000545 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   620 00000548 83 E8 03                        	SUB	EAX,3
   621 0000054B 50                              	PUSH	EAX
   622 0000054C 56                              	PUSH	ESI
   623 0000054D 50                              	PUSH	EAX
   624 0000054E 6A 07                           	PUSH	7
   625 00000550 FF 75 0C                        	PUSH	DWORD [12+EBP]
   626 00000553 FF 75 08                        	PUSH	DWORD [8+EBP]
   627 00000556 E8 FFFFFE2C                     	CALL	_boxFill8
   628 0000055B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   629 0000055E 5B                              	POP	EBX
   630 0000055F 5E                              	POP	ESI
   631 00000560 5F                              	POP	EDI
   632 00000561 5D                              	POP	EBP
   633 00000562 C3                              	RET
   634 00000563                                 	GLOBAL	_putFont8
   635 00000563                                 _putFont8:
   636 00000563 55                              	PUSH	EBP
   637 00000564 89 E5                           	MOV	EBP,ESP
   638 00000566 57                              	PUSH	EDI
   639 00000567 56                              	PUSH	ESI
   640 00000568 31 F6                           	XOR	ESI,ESI
   641 0000056A 53                              	PUSH	EBX
   642 0000056B 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   643 0000056E 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
   644 00000571                                 L67:
   645 00000571 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   646 00000574 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   647 00000577 01 F0                           	ADD	EAX,ESI
   648 00000579 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   649 0000057D 03 45 08                        	ADD	EAX,DWORD [8+EBP]
   650 00000580 8D 0C 02                        	LEA	ECX,DWORD [EDX+EAX*1]
   651 00000583 8A 14 3E                        	MOV	DL,BYTE [ESI+EDI*1]
   652 00000586 84 D2                           	TEST	DL,DL
   653 00000588 79 02                           	JNS	L59
   654 0000058A 88 19                           	MOV	BYTE [ECX],BL
   655 0000058C                                 L59:
   656 0000058C 88 D0                           	MOV	AL,DL
   657 0000058E 83 E0 40                        	AND	EAX,64
   658 00000591 84 C0                           	TEST	AL,AL
   659 00000593 74 03                           	JE	L60
   660 00000595 88 59 01                        	MOV	BYTE [1+ECX],BL
   661 00000598                                 L60:
   662 00000598 88 D0                           	MOV	AL,DL
   663 0000059A 83 E0 20                        	AND	EAX,32
   664 0000059D 84 C0                           	TEST	AL,AL
   665 0000059F 74 03                           	JE	L61
   666 000005A1 88 59 02                        	MOV	BYTE [2+ECX],BL
   667 000005A4                                 L61:
   668 000005A4 88 D0                           	MOV	AL,DL
   669 000005A6 83 E0 10                        	AND	EAX,16
   670 000005A9 84 C0                           	TEST	AL,AL
   671 000005AB 74 03                           	JE	L62
   672 000005AD 88 59 03                        	MOV	BYTE [3+ECX],BL
   673 000005B0                                 L62:
   674 000005B0 88 D0                           	MOV	AL,DL
   675 000005B2 83 E0 08                        	AND	EAX,8
   676 000005B5 84 C0                           	TEST	AL,AL
   677 000005B7 74 03                           	JE	L63
   678 000005B9 88 59 04                        	MOV	BYTE [4+ECX],BL
   679 000005BC                                 L63:
   680 000005BC 88 D0                           	MOV	AL,DL
   681 000005BE 83 E0 04                        	AND	EAX,4
   682 000005C1 84 C0                           	TEST	AL,AL
   683 000005C3 74 03                           	JE	L64
   684 000005C5 88 59 05                        	MOV	BYTE [5+ECX],BL
   685 000005C8                                 L64:
   686 000005C8 88 D0                           	MOV	AL,DL
   687 000005CA 83 E0 02                        	AND	EAX,2
   688 000005CD 84 C0                           	TEST	AL,AL
   689 000005CF 74 03                           	JE	L65
   690 000005D1 88 59 06                        	MOV	BYTE [6+ECX],BL
   691 000005D4                                 L65:
   692 000005D4 83 E2 01                        	AND	EDX,1
   693 000005D7 84 D2                           	TEST	DL,DL
   694 000005D9 74 03                           	JE	L57
   695 000005DB 88 59 07                        	MOV	BYTE [7+ECX],BL
   696 000005DE                                 L57:
   697 000005DE 46                              	INC	ESI
   698 000005DF 83 FE 0F                        	CMP	ESI,15
   699 000005E2 7E 8D                           	JLE	L67
   700 000005E4 5B                              	POP	EBX
   701 000005E5 5E                              	POP	ESI
   702 000005E6 5F                              	POP	EDI
   703 000005E7 5D                              	POP	EBP
   704 000005E8 C3                              	RET
   705 000005E9                                 	GLOBAL	_putFont8_asc
   706 000005E9                                 _putFont8_asc:
   707 000005E9 55                              	PUSH	EBP
   708 000005EA 89 E5                           	MOV	EBP,ESP
   709 000005EC 57                              	PUSH	EDI
   710 000005ED 56                              	PUSH	ESI
   711 000005EE 53                              	PUSH	EBX
   712 000005EF 53                              	PUSH	EBX
   713 000005F0 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   714 000005F3 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   715 000005F6 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   716 000005F9 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   717 000005FC 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   718 000005FF 80 3B 00                        	CMP	BYTE [EBX],0
   719 00000602 75 08                           	JNE	L75
   720 00000604                                 L77:
   721 00000604 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   722 00000607 5B                              	POP	EBX
   723 00000608 5E                              	POP	ESI
   724 00000609 5F                              	POP	EDI
   725 0000060A 5D                              	POP	EBP
   726 0000060B C3                              	RET
   727 0000060C                                 L75:
   728 0000060C 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   729 0000060F C1 E0 04                        	SAL	EAX,4
   730 00000612 43                              	INC	EBX
   731 00000613 05 [00000000]                   	ADD	EAX,_font
   732 00000618 50                              	PUSH	EAX
   733 00000619 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   734 0000061D 50                              	PUSH	EAX
   735 0000061E 57                              	PUSH	EDI
   736 0000061F 56                              	PUSH	ESI
   737 00000620 83 C6 08                        	ADD	ESI,8
   738 00000623 FF 75 0C                        	PUSH	DWORD [12+EBP]
   739 00000626 FF 75 08                        	PUSH	DWORD [8+EBP]
   740 00000629 E8 FFFFFF35                     	CALL	_putFont8
   741 0000062E 83 C4 18                        	ADD	ESP,24
   742 00000631 80 3B 00                        	CMP	BYTE [EBX],0
   743 00000634 75 D6                           	JNE	L75
   744 00000636 EB CC                           	JMP	L77
   745                                          [SECTION .data]
   746 00000030                                 _cursor.1:
   747 00000030 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..............."
       0000003A 2E 2E 2E 2E 2E 2E 
   748 00000040 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**.............."
       0000004A 2E 2E 2E 2E 2E 2E 
   749 00000050 2A 4F 2A 2E 2E 2E 2E 2E 2E 2E   	DB	"*O*............."
       0000005A 2E 2E 2E 2E 2E 2E 
   750 00000060 2A 4F 4F 2A 2E 2E 2E 2E 2E 2E   	DB	"*OO*............"
       0000006A 2E 2E 2E 2E 2E 2E 
   751 00000070 2A 4F 4F 4F 2A 2E 2E 2E 2E 2E   	DB	"*OOO*..........."
       0000007A 2E 2E 2E 2E 2E 2E 
   752 00000080 2A 4F 4F 4F 4F 2A 2E 2E 2E 2E   	DB	"*OOOO*.........."
       0000008A 2E 2E 2E 2E 2E 2E 
   753 00000090 2A 4F 4F 4F 4F 4F 2A 2E 2E 2E   	DB	"*OOOOO*........."
       0000009A 2E 2E 2E 2E 2E 2E 
   754 000000A0 2A 4F 4F 4F 4F 4F 4F 2A 2E 2E   	DB	"*OOOOOO*........"
       000000AA 2E 2E 2E 2E 2E 2E 
   755 000000B0 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000BA 2E 2E 2E 2E 2E 2E 
   756 000000C0 2A 4F 4F 4F 4F 2A 2A 2A 2A 2A   	DB	"*OOOO*****......"
       000000CA 2E 2E 2E 2E 2E 2E 
   757 000000D0 2A 4F 4F 2A 4F 2A 2E 2E 2E 2E   	DB	"*OO*O*.........."
       000000DA 2E 2E 2E 2E 2E 2E 
   758 000000E0 2A 4F 2A 2E 2A 4F 2A 2E 2E 2E   	DB	"*O*.*O*........."
       000000EA 2E 2E 2E 2E 2E 2E 
   759 000000F0 2A 2A 2E 2E 2A 4F 2A 2E 2E 2E   	DB	"**..*O*........."
       000000FA 2E 2E 2E 2E 2E 2E 
   760 00000100 2A 2E 2E 2E 2E 2A 4F 2A 2E 2E   	DB	"*....*O*........"
       0000010A 2E 2E 2E 2E 2E 2E 
   761 00000110 2E 2E 2E 2E 2E 2A 4F 2A 2E 2E   	DB	".....*O*........"
       0000011A 2E 2E 2E 2E 2E 2E 
   762 00000120 2E 2E 2E 2E 2E 2E 2A 2E 2E 2E   	DB	"......*........."
       0000012A 2E 2E 2E 2E 2E 2E 
   763                                          [SECTION .text]
   764 00000638                                 	GLOBAL	_initMouseCursor8
   765 00000638                                 _initMouseCursor8:
   766 00000638 55                              	PUSH	EBP
   767 00000639 89 E5                           	MOV	EBP,ESP
   768 0000063B 57                              	PUSH	EDI
   769 0000063C 56                              	PUSH	ESI
   770 0000063D 53                              	PUSH	EBX
   771 0000063E 31 DB                           	XOR	EBX,EBX
   772 00000640 57                              	PUSH	EDI
   773 00000641 31 FF                           	XOR	EDI,EDI
   774 00000643 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   775 00000646 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   776 00000649 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   777 0000064C                                 L91:
   778 0000064C 31 D2                           	XOR	EDX,EDX
   779 0000064E                                 L90:
   780 0000064E 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   781 00000651 80 B8 [00000030] 2A             	CMP	BYTE [_cursor.1+EAX],42
   782 00000658 74 35                           	JE	L96
   783 0000065A                                 L87:
   784 0000065A 80 B8 [00000030] 4F             	CMP	BYTE [_cursor.1+EAX],79
   785 00000661 74 26                           	JE	L97
   786 00000663                                 L88:
   787 00000663 80 B8 [00000030] 2E             	CMP	BYTE [_cursor.1+EAX],46
   788 0000066A 74 15                           	JE	L98
   789 0000066C                                 L85:
   790 0000066C 42                              	INC	EDX
   791 0000066D 83 FA 0F                        	CMP	EDX,15
   792 00000670 7E DC                           	JLE	L90
   793 00000672 43                              	INC	EBX
   794 00000673 83 C7 10                        	ADD	EDI,16
   795 00000676 83 FB 0F                        	CMP	EBX,15
   796 00000679 7E D1                           	JLE	L91
   797 0000067B 5E                              	POP	ESI
   798 0000067C 5B                              	POP	EBX
   799 0000067D 5E                              	POP	ESI
   800 0000067E 5F                              	POP	EDI
   801 0000067F 5D                              	POP	EBP
   802 00000680 C3                              	RET
   803 00000681                                 L98:
   804 00000681 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   805 00000684 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   806 00000687 EB E3                           	JMP	L85
   807 00000689                                 L97:
   808 00000689 C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   809 0000068D EB D4                           	JMP	L88
   810 0000068F                                 L96:
   811 0000068F C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   812 00000693 EB C5                           	JMP	L87
   813 00000695                                 	GLOBAL	_putblock8_8
   814 00000695                                 _putblock8_8:
   815 00000695 55                              	PUSH	EBP
   816 00000696 89 E5                           	MOV	EBP,ESP
   817 00000698 57                              	PUSH	EDI
   818 00000699 56                              	PUSH	ESI
   819 0000069A 31 F6                           	XOR	ESI,ESI
   820 0000069C 53                              	PUSH	EBX
   821 0000069D 83 EC 0C                        	SUB	ESP,12
   822 000006A0 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   823 000006A3 7D 3E                           	JGE	L111
   824 000006A5 31 FF                           	XOR	EDI,EDI
   825 000006A7                                 L109:
   826 000006A7 31 DB                           	XOR	EBX,EBX
   827 000006A9 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   828 000006AC 7D 2C                           	JGE	L113
   829 000006AE 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   830 000006B1 01 F8                           	ADD	EAX,EDI
   831 000006B3 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   832 000006B6                                 L108:
   833 000006B6 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   834 000006B9 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   835 000006BC 01 F0                           	ADD	EAX,ESI
   836 000006BE 01 DA                           	ADD	EDX,EBX
   837 000006C0 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   838 000006C4 01 D0                           	ADD	EAX,EDX
   839 000006C6 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   840 000006C9 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   841 000006CC 43                              	INC	EBX
   842 000006CD 8A 12                           	MOV	DL,BYTE [EDX]
   843 000006CF 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   844 000006D2 FF 45 EC                        	INC	DWORD [-20+EBP]
   845 000006D5 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   846 000006D8 7C DC                           	JL	L108
   847 000006DA                                 L113:
   848 000006DA 46                              	INC	ESI
   849 000006DB 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   850 000006DE 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   851 000006E1 7C C4                           	JL	L109
   852 000006E3                                 L111:
   853 000006E3 83 C4 0C                        	ADD	ESP,12
   854 000006E6 5B                              	POP	EBX
   855 000006E7 5E                              	POP	ESI
   856 000006E8 5F                              	POP	EDI
   857 000006E9 5D                              	POP	EBP
   858 000006EA C3                              	RET
   859 000006EB                                 	GLOBAL	_waitKeyboardControllerReady
   860 000006EB                                 _waitKeyboardControllerReady:
   861 000006EB 55                              	PUSH	EBP
   862 000006EC 89 E5                           	MOV	EBP,ESP
   863 000006EE                                 L115:
   864 000006EE 6A 64                           	PUSH	100
   865 000006F0 E8 [00000000]                   	CALL	_io_in8
   866 000006F5 5A                              	POP	EDX
   867 000006F6 83 E0 02                        	AND	EAX,2
   868 000006F9 75 F3                           	JNE	L115
   869 000006FB C9                              	LEAVE
   870 000006FC C3                              	RET
   871 000006FD                                 	GLOBAL	_initKeyboard
   872 000006FD                                 _initKeyboard:
   873 000006FD 55                              	PUSH	EBP
   874 000006FE 89 E5                           	MOV	EBP,ESP
   875 00000700 E8 FFFFFFE6                     	CALL	_waitKeyboardControllerReady
   876 00000705 6A 60                           	PUSH	96
   877 00000707 6A 64                           	PUSH	100
   878 00000709 E8 [00000000]                   	CALL	_io_out8
   879 0000070E E8 FFFFFFD8                     	CALL	_waitKeyboardControllerReady
   880 00000713 6A 47                           	PUSH	71
   881 00000715 6A 60                           	PUSH	96
   882 00000717 E8 [00000000]                   	CALL	_io_out8
   883 0000071C C9                              	LEAVE
   884 0000071D C3                              	RET
   885 0000071E                                 	GLOBAL	_enableMouse
   886 0000071E                                 _enableMouse:
   887 0000071E 55                              	PUSH	EBP
   888 0000071F 89 E5                           	MOV	EBP,ESP
   889 00000721 E8 FFFFFFC5                     	CALL	_waitKeyboardControllerReady
   890 00000726 68 000000D4                     	PUSH	212
   891 0000072B 6A 64                           	PUSH	100
   892 0000072D E8 [00000000]                   	CALL	_io_out8
   893 00000732 E8 FFFFFFB4                     	CALL	_waitKeyboardControllerReady
   894 00000737 68 000000F4                     	PUSH	244
   895 0000073C 6A 60                           	PUSH	96
   896 0000073E E8 [00000000]                   	CALL	_io_out8
   897 00000743 C9                              	LEAVE
   898 00000744 C3                              	RET
   899                                          [SECTION .data]
   900 00000130                                 LC0:
   901 00000130 53 48 4F 57 53 54 52 49 4E 47   	DB	"SHOWSTRING",0x00
       0000013A 00 
   902 0000013B                                 LC1:
   903 0000013B 28 25 64 2C 20 25 64 29 00      	DB	"(%d, %d)",0x00
   904 00000144                                 LC3:
   905 00000144 25 30 32 58 20 25 30 32 58 20   	DB	"%02X %02X %02X",0x00
       0000014E 25 30 32 58 00 
   906 00000153                                 LC2:
   907 00000153 25 30 32 58 00                  	DB	"%02X",0x00
   908                                          [SECTION .text]
   909 00000745                                 	GLOBAL	_Main
   910 00000745                                 _Main:
   911 00000745 55                              	PUSH	EBP
   912 00000746 89 E5                           	MOV	EBP,ESP
   913 00000748 57                              	PUSH	EDI
   914 00000749 56                              	PUSH	ESI
   915 0000074A 53                              	PUSH	EBX
   916 0000074B 81 EC 000001E4                  	SUB	ESP,484
   917 00000751 E8 FFFFFAB8                     	CALL	_initGdtit
   918 00000756 E8 FFFFF948                     	CALL	_init_pic
   919 0000075B E8 [00000000]                   	CALL	_io_sti
   920 00000760 8D 85 FFFFFEA4                  	LEA	EAX,DWORD [-348+EBP]
   921 00000766 50                              	PUSH	EAX
   922 00000767 6A 20                           	PUSH	32
   923 00000769 68 [00000160]                   	PUSH	_keybuf
   924 0000076E E8 FFFFF88D                     	CALL	_QueueInit
   925 00000773 8D 85 FFFFFE24                  	LEA	EAX,DWORD [-476+EBP]
   926 00000779 50                              	PUSH	EAX
   927 0000077A 68 00000080                     	PUSH	128
   928 0000077F 68 [00000180]                   	PUSH	_mousebuf
   929 00000784 E8 FFFFF877                     	CALL	_QueueInit
   930 00000789 68 000000F9                     	PUSH	249
   931 0000078E 6A 21                           	PUSH	33
   932 00000790 E8 [00000000]                   	CALL	_io_out8
   933 00000795 83 C4 20                        	ADD	ESP,32
   934 00000798 68 000000EF                     	PUSH	239
   935 0000079D 68 000000A1                     	PUSH	161
   936 000007A2 E8 [00000000]                   	CALL	_io_out8
   937 000007A7 E8 FFFFFF51                     	CALL	_initKeyboard
   938 000007AC E8 FFFFFBC3                     	CALL	_init_palette
   939 000007B1 B9 00000002                     	MOV	ECX,2
   940 000007B6 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   941 000007BD 0F BF 1D 00000FF6               	MOVSX	EBX,WORD [4086]
   942 000007C4 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
   943 000007C7 53                              	PUSH	EBX
   944 000007C8 89 D0                           	MOV	EAX,EDX
   945 000007CA 8D 73 D4                        	LEA	ESI,DWORD [-44+EBX]
   946 000007CD 99                              	CDQ
   947 000007CE F7 F9                           	IDIV	ECX
   948 000007D0 89 C7                           	MOV	EDI,EAX
   949 000007D2 8D 9D FFFFFEF4                  	LEA	EBX,DWORD [-268+EBP]
   950 000007D8 89 F0                           	MOV	EAX,ESI
   951 000007DA 99                              	CDQ
   952 000007DB F7 F9                           	IDIV	ECX
   953 000007DD 89 C6                           	MOV	ESI,EAX
   954 000007DF 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   955 000007E6 50                              	PUSH	EAX
   956 000007E7 FF 35 00000FF8                  	PUSH	DWORD [4088]
   957 000007ED E8 FFFFFBE6                     	CALL	_init_GUI
   958 000007F2 68 [00000130]                   	PUSH	LC0
   959 000007F7 6A 07                           	PUSH	7
   960 000007F9 6A 23                           	PUSH	35
   961 000007FB 6A 1E                           	PUSH	30
   962 000007FD 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   963 00000804 50                              	PUSH	EAX
   964 00000805 FF 35 00000FF8                  	PUSH	DWORD [4088]
   965 0000080B E8 FFFFFDD9                     	CALL	_putFont8_asc
   966 00000810 83 C4 2C                        	ADD	ESP,44
   967 00000813 6A 0E                           	PUSH	14
   968 00000815 53                              	PUSH	EBX
   969 00000816 E8 FFFFFE1D                     	CALL	_initMouseCursor8
   970 0000081B 6A 10                           	PUSH	16
   971 0000081D 53                              	PUSH	EBX
   972 0000081E 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
   973 00000824 56                              	PUSH	ESI
   974 00000825 57                              	PUSH	EDI
   975 00000826 6A 10                           	PUSH	16
   976 00000828 6A 10                           	PUSH	16
   977 0000082A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   978 00000831 50                              	PUSH	EAX
   979 00000832 FF 35 00000FF8                  	PUSH	DWORD [4088]
   980 00000838 E8 FFFFFE58                     	CALL	_putblock8_8
   981 0000083D 83 C4 28                        	ADD	ESP,40
   982 00000840 56                              	PUSH	ESI
   983 00000841 31 F6                           	XOR	ESI,ESI
   984 00000843 57                              	PUSH	EDI
   985 00000844 68 [0000013B]                   	PUSH	LC1
   986 00000849 53                              	PUSH	EBX
   987 0000084A E8 [00000000]                   	CALL	_sprintf
   988 0000084F 53                              	PUSH	EBX
   989 00000850 6A 07                           	PUSH	7
   990 00000852 6A 00                           	PUSH	0
   991 00000854 6A 00                           	PUSH	0
   992 00000856 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   993 0000085D 50                              	PUSH	EAX
   994 0000085E FF 35 00000FF8                  	PUSH	DWORD [4088]
   995 00000864 E8 FFFFFD80                     	CALL	_putFont8_asc
   996 00000869 83 C4 28                        	ADD	ESP,40
   997 0000086C 68 000000F9                     	PUSH	249
   998 00000871 6A 21                           	PUSH	33
   999 00000873 E8 [00000000]                   	CALL	_io_out8
  1000 00000878 68 000000EF                     	PUSH	239
  1001 0000087D 68 000000A1                     	PUSH	161
  1002 00000882 E8 [00000000]                   	CALL	_io_out8
  1003 00000887 E8 FFFFFE92                     	CALL	_enableMouse
  1004 0000088C 83 C4 10                        	ADD	ESP,16
  1005 0000088F                                 L122:
  1006 0000088F E8 [00000000]                   	CALL	_io_cli
  1007 00000894 68 [00000160]                   	PUSH	_keybuf
  1008 00000899 E8 FFFFF7F7                     	CALL	_QueueSize
  1009 0000089E 68 [00000180]                   	PUSH	_mousebuf
  1010 000008A3 89 C3                           	MOV	EBX,EAX
  1011 000008A5 E8 FFFFF7EB                     	CALL	_QueueSize
  1012 000008AA 5F                              	POP	EDI
  1013 000008AB 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
  1014 000008AE 5A                              	POP	EDX
  1015 000008AF 85 C0                           	TEST	EAX,EAX
  1016 000008B1 0F 84 0000013A                  	JE	L138
  1017 000008B7 68 [00000160]                   	PUSH	_keybuf
  1018 000008BC E8 FFFFF7D4                     	CALL	_QueueSize
  1019 000008C1 5B                              	POP	EBX
  1020 000008C2 85 C0                           	TEST	EAX,EAX
  1021 000008C4 0F 85 000000D8                  	JNE	L139
  1022 000008CA 68 [00000180]                   	PUSH	_mousebuf
  1023 000008CF E8 FFFFF78E                     	CALL	_QueuePop
  1024 000008D4 89 C3                           	MOV	EBX,EAX
  1025 000008D6 E8 [00000000]                   	CALL	_io_sti
  1026 000008DB 89 F0                           	MOV	EAX,ESI
  1027 000008DD 59                              	POP	ECX
  1028 000008DE 84 C0                           	TEST	AL,AL
  1029 000008E0 0F 84 000000A6                  	JE	L140
  1030 000008E6 89 F2                           	MOV	EDX,ESI
  1031 000008E8 FE CA                           	DEC	DL
  1032 000008EA 0F 84 0000008C                  	JE	L141
  1033 000008F0 89 F0                           	MOV	EAX,ESI
  1034 000008F2 3C 02                           	CMP	AL,2
  1035 000008F4 74 76                           	JE	L142
  1036 000008F6 3C 03                           	CMP	AL,3
  1037 000008F8 75 95                           	JNE	L122
  1038 000008FA 0F B6 C3                        	MOVZX	EAX,BL
  1039 000008FD 50                              	PUSH	EAX
  1040 000008FE 88 9D FFFFFE16                  	MOV	BYTE [-490+EBP],BL
  1041 00000904 0F B6 85 FFFFFE15               	MOVZX	EAX,BYTE [-491+EBP]
  1042 0000090B 50                              	PUSH	EAX
  1043 0000090C 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
  1044 00000912 0F B6 85 FFFFFE14               	MOVZX	EAX,BYTE [-492+EBP]
  1045 00000919 50                              	PUSH	EAX
  1046 0000091A BE 00000001                     	MOV	ESI,1
  1047 0000091F 68 [00000144]                   	PUSH	LC3
  1048 00000924 53                              	PUSH	EBX
  1049 00000925 E8 [00000000]                   	CALL	_sprintf
  1050 0000092A 6A 1F                           	PUSH	31
  1051 0000092C 6A 5F                           	PUSH	95
  1052 0000092E 6A 10                           	PUSH	16
  1053 00000930 6A 20                           	PUSH	32
  1054 00000932 6A 0E                           	PUSH	14
  1055 00000934 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
  1056 0000093B 50                              	PUSH	EAX
  1057 0000093C FF 35 00000FF8                  	PUSH	DWORD [4088]
  1058 00000942 E8 FFFFFA40                     	CALL	_boxFill8
  1059 00000947 83 C4 30                        	ADD	ESP,48
  1060 0000094A 53                              	PUSH	EBX
  1061 0000094B 6A 07                           	PUSH	7
  1062 0000094D 6A 10                           	PUSH	16
  1063 0000094F 6A 20                           	PUSH	32
  1064 00000951                                 L137:
  1065 00000951 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
  1066 00000958 50                              	PUSH	EAX
  1067 00000959 FF 35 00000FF8                  	PUSH	DWORD [4088]
  1068 0000095F E8 FFFFFC85                     	CALL	_putFont8_asc
  1069 00000964 83 C4 18                        	ADD	ESP,24
  1070 00000967 E9 FFFFFF23                     	JMP	L122
  1071 0000096C                                 L142:
  1072 0000096C BE 00000003                     	MOV	ESI,3
  1073 00000971 88 9D FFFFFE15                  	MOV	BYTE [-491+EBP],BL
  1074 00000977 E9 FFFFFF13                     	JMP	L122
  1075 0000097C                                 L141:
  1076 0000097C BE 00000002                     	MOV	ESI,2
  1077 00000981 88 9D FFFFFE14                  	MOV	BYTE [-492+EBP],BL
  1078 00000987 E9 FFFFFF03                     	JMP	L122
  1079 0000098C                                 L140:
  1080 0000098C 81 FB 000000FA                  	CMP	EBX,250
  1081 00000992 0F 85 FFFFFEF7                  	JNE	L122
  1082 00000998 BE 00000001                     	MOV	ESI,1
  1083 0000099D E9 FFFFFEED                     	JMP	L122
  1084 000009A2                                 L139:
  1085 000009A2 68 [00000160]                   	PUSH	_keybuf
  1086 000009A7 E8 FFFFF6B6                     	CALL	_QueuePop
  1087 000009AC 89 C3                           	MOV	EBX,EAX
  1088 000009AE E8 [00000000]                   	CALL	_io_sti
  1089 000009B3 53                              	PUSH	EBX
  1090 000009B4 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
  1091 000009BA 68 [00000153]                   	PUSH	LC2
  1092 000009BF 53                              	PUSH	EBX
  1093 000009C0 E8 [00000000]                   	CALL	_sprintf
  1094 000009C5 6A 1F                           	PUSH	31
  1095 000009C7 6A 0F                           	PUSH	15
  1096 000009C9 6A 10                           	PUSH	16
  1097 000009CB 6A 00                           	PUSH	0
  1098 000009CD 6A 0E                           	PUSH	14
  1099 000009CF 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
  1100 000009D6 50                              	PUSH	EAX
  1101 000009D7 FF 35 00000FF8                  	PUSH	DWORD [4088]
  1102 000009DD E8 FFFFF9A5                     	CALL	_boxFill8
  1103 000009E2 83 C4 2C                        	ADD	ESP,44
  1104 000009E5 53                              	PUSH	EBX
  1105 000009E6 6A 07                           	PUSH	7
  1106 000009E8 6A 10                           	PUSH	16
  1107 000009EA 6A 00                           	PUSH	0
  1108 000009EC E9 FFFFFF60                     	JMP	L137
  1109 000009F1                                 L138:
  1110 000009F1 E8 [00000000]                   	CALL	_io_stihlt
  1111 000009F6 E9 FFFFFE94                     	JMP	L122
  1112 000009FB                                 	GLOBAL	_keybuf
  1113                                          [SECTION .data]
  1114 00000158 00 00 00 00 00 00 00 00         	ALIGNB	16
  1115 00000160                                 _keybuf:
  1116 00000160 00 00 00 00 00 00 00 00 00 00   	RESB	24
       0000016A 00 00 00 00 00 00 00 00 00 00 
       00000174 00 00 00 00 
  1117 00000178                                 	GLOBAL	_mousebuf
  1118                                          [SECTION .data]
  1119 00000178 00 00 00 00 00 00 00 00         	ALIGNB	16
  1120 00000180                                 _mousebuf:
  1121 00000180 00 00 00 00 00 00 00 00 00 00   	RESB	24
       0000018A 00 00 00 00 00 00 00 00 00 00 
       00000194 00 00 00 00 
