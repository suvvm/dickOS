     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_loadGdtr
     7 00000000                                 	EXTERN	_loadIdtr
     8 00000000                                 	EXTERN	_io_load_eflags
     9 00000000                                 	EXTERN	_io_cli
    10 00000000                                 	EXTERN	_io_out8
    11 00000000                                 	EXTERN	_io_store_eflags
    12 00000000                                 	EXTERN	_font
    13 00000000                                 	EXTERN	_io_hlt
    14 00000000                                 [FILE "bootpack.c"]
    15                                          [SECTION .text]
    16 00000000                                 	GLOBAL	_setSegmdesc
    17 00000000                                 _setSegmdesc:
    18 00000000 55                              	PUSH	EBP
    19 00000001 89 E5                           	MOV	EBP,ESP
    20 00000003 53                              	PUSH	EBX
    21 00000004 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
    22 00000007 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
    23 0000000A 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    24 0000000D 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
    25 00000010 81 FA 000FFFFF                  	CMP	EDX,1048575
    26 00000016 76 08                           	JBE	L2
    27 00000018 C1 EA 0C                        	SHR	EDX,12
    28 0000001B 0D 00008000                     	OR	EAX,32768
    29 00000020                                 L2:
    30 00000020 66 89 13                        	MOV	WORD [EBX],DX
    31 00000023 88 43 05                        	MOV	BYTE [5+EBX],AL
    32 00000026 C1 EA 10                        	SHR	EDX,16
    33 00000029 C1 F8 08                        	SAR	EAX,8
    34 0000002C 83 E2 0F                        	AND	EDX,15
    35 0000002F 66 89 4B 02                     	MOV	WORD [2+EBX],CX
    36 00000033 83 E0 F0                        	AND	EAX,-16
    37 00000036 C1 F9 10                        	SAR	ECX,16
    38 00000039 09 C2                           	OR	EDX,EAX
    39 0000003B 88 4B 04                        	MOV	BYTE [4+EBX],CL
    40 0000003E 88 53 06                        	MOV	BYTE [6+EBX],DL
    41 00000041 C1 F9 08                        	SAR	ECX,8
    42 00000044 88 4B 07                        	MOV	BYTE [7+EBX],CL
    43 00000047 5B                              	POP	EBX
    44 00000048 5D                              	POP	EBP
    45 00000049 C3                              	RET
    46 0000004A                                 	GLOBAL	_setGatedesc
    47 0000004A                                 _setGatedesc:
    48 0000004A 55                              	PUSH	EBP
    49 0000004B 89 E5                           	MOV	EBP,ESP
    50 0000004D 53                              	PUSH	EBX
    51 0000004E 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
    52 00000051 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
    53 00000054 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
    54 00000057 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
    55 0000005A 66 89 42 02                     	MOV	WORD [2+EDX],AX
    56 0000005E 88 5A 05                        	MOV	BYTE [5+EDX],BL
    57 00000061 66 89 0A                        	MOV	WORD [EDX],CX
    58 00000064 89 D8                           	MOV	EAX,EBX
    59 00000066 C1 F8 08                        	SAR	EAX,8
    60 00000069 C1 F9 10                        	SAR	ECX,16
    61 0000006C 88 42 04                        	MOV	BYTE [4+EDX],AL
    62 0000006F 66 89 4A 06                     	MOV	WORD [6+EDX],CX
    63 00000073 5B                              	POP	EBX
    64 00000074 5D                              	POP	EBP
    65 00000075 C3                              	RET
    66 00000076                                 	GLOBAL	_initGdtit
    67 00000076                                 _initGdtit:
    68 00000076 55                              	PUSH	EBP
    69 00000077 89 E5                           	MOV	EBP,ESP
    70 00000079 56                              	PUSH	ESI
    71 0000007A 53                              	PUSH	EBX
    72 0000007B BE 00270000                     	MOV	ESI,2555904
    73 00000080 BB 00001FFF                     	MOV	EBX,8191
    74 00000085                                 L9:
    75 00000085 6A 00                           	PUSH	0
    76 00000087 6A 00                           	PUSH	0
    77 00000089 6A 00                           	PUSH	0
    78 0000008B 56                              	PUSH	ESI
    79 0000008C 83 C6 08                        	ADD	ESI,8
    80 0000008F E8 FFFFFF6C                     	CALL	_setSegmdesc
    81 00000094 83 C4 10                        	ADD	ESP,16
    82 00000097 4B                              	DEC	EBX
    83 00000098 79 EB                           	JNS	L9
    84 0000009A 68 00004092                     	PUSH	16530
    85 0000009F BE 0026F800                     	MOV	ESI,2553856
    86 000000A4 6A 00                           	PUSH	0
    87 000000A6 BB 000000FF                     	MOV	EBX,255
    88 000000AB 6A FF                           	PUSH	-1
    89 000000AD 68 00270008                     	PUSH	2555912
    90 000000B2 E8 FFFFFF49                     	CALL	_setSegmdesc
    91 000000B7 68 0000409A                     	PUSH	16538
    92 000000BC 68 00280000                     	PUSH	2621440
    93 000000C1 68 0007FFFF                     	PUSH	524287
    94 000000C6 68 00270010                     	PUSH	2555920
    95 000000CB E8 FFFFFF30                     	CALL	_setSegmdesc
    96 000000D0 83 C4 20                        	ADD	ESP,32
    97 000000D3 68 00270000                     	PUSH	2555904
    98 000000D8 68 0000FFFF                     	PUSH	65535
    99 000000DD E8 [00000000]                   	CALL	_loadGdtr
   100 000000E2 58                              	POP	EAX
   101 000000E3 5A                              	POP	EDX
   102 000000E4                                 L14:
   103 000000E4 6A 00                           	PUSH	0
   104 000000E6 6A 00                           	PUSH	0
   105 000000E8 6A 00                           	PUSH	0
   106 000000EA 56                              	PUSH	ESI
   107 000000EB 83 C6 08                        	ADD	ESI,8
   108 000000EE E8 FFFFFF57                     	CALL	_setGatedesc
   109 000000F3 83 C4 10                        	ADD	ESP,16
   110 000000F6 4B                              	DEC	EBX
   111 000000F7 79 EB                           	JNS	L14
   112 000000F9 68 0026F800                     	PUSH	2553856
   113 000000FE 68 000007FF                     	PUSH	2047
   114 00000103 E8 [00000000]                   	CALL	_loadIdtr
   115 00000108 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   116 0000010B 5B                              	POP	EBX
   117 0000010C 5E                              	POP	ESI
   118 0000010D 5D                              	POP	EBP
   119 0000010E C3                              	RET
   120 0000010F                                 	GLOBAL	_set_palette
   121 0000010F                                 _set_palette:
   122 0000010F 55                              	PUSH	EBP
   123 00000110 89 E5                           	MOV	EBP,ESP
   124 00000112 57                              	PUSH	EDI
   125 00000113 56                              	PUSH	ESI
   126 00000114 53                              	PUSH	EBX
   127 00000115 50                              	PUSH	EAX
   128 00000116 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   129 00000119 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   130 0000011C 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   131 0000011F E8 [00000000]                   	CALL	_io_load_eflags
   132 00000124 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   133 00000127 E8 [00000000]                   	CALL	_io_cli
   134 0000012C 53                              	PUSH	EBX
   135 0000012D 68 000003C8                     	PUSH	968
   136 00000132 E8 [00000000]                   	CALL	_io_out8
   137 00000137 39 FB                           	CMP	EBX,EDI
   138 00000139 59                              	POP	ECX
   139 0000013A 58                              	POP	EAX
   140 0000013B 7D 48                           	JGE	L26
   141 0000013D 29 DF                           	SUB	EDI,EBX
   142 0000013F 89 FB                           	MOV	EBX,EDI
   143 00000141                                 L24:
   144 00000141 8A 06                           	MOV	AL,BYTE [ESI]
   145 00000143 C0 E8 02                        	SHR	AL,2
   146 00000146 0F B6 C0                        	MOVZX	EAX,AL
   147 00000149 50                              	PUSH	EAX
   148 0000014A 68 000003C9                     	PUSH	969
   149 0000014F E8 [00000000]                   	CALL	_io_out8
   150 00000154 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   151 00000157 C0 E8 02                        	SHR	AL,2
   152 0000015A 0F B6 C0                        	MOVZX	EAX,AL
   153 0000015D 50                              	PUSH	EAX
   154 0000015E 68 000003C9                     	PUSH	969
   155 00000163 E8 [00000000]                   	CALL	_io_out8
   156 00000168 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   157 0000016B C0 E8 02                        	SHR	AL,2
   158 0000016E 83 C6 03                        	ADD	ESI,3
   159 00000171 0F B6 C0                        	MOVZX	EAX,AL
   160 00000174 50                              	PUSH	EAX
   161 00000175 68 000003C9                     	PUSH	969
   162 0000017A E8 [00000000]                   	CALL	_io_out8
   163 0000017F 83 C4 18                        	ADD	ESP,24
   164 00000182 4B                              	DEC	EBX
   165 00000183 75 BC                           	JNE	L24
   166 00000185                                 L26:
   167 00000185 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   168 00000188 89 45 08                        	MOV	DWORD [8+EBP],EAX
   169 0000018B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   170 0000018E 5B                              	POP	EBX
   171 0000018F 5E                              	POP	ESI
   172 00000190 5F                              	POP	EDI
   173 00000191 5D                              	POP	EBP
   174 00000192 E9 [00000000]                   	JMP	_io_store_eflags
   175                                          [SECTION .data]
   176 00000000                                 _table_rgb.0:
   177 00000000 00                              	DB	0
   178 00000001 00                              	DB	0
   179 00000002 00                              	DB	0
   180 00000003 FF                              	DB	-1
   181 00000004 00                              	DB	0
   182 00000005 00                              	DB	0
   183 00000006 00                              	DB	0
   184 00000007 FF                              	DB	-1
   185 00000008 00                              	DB	0
   186 00000009 FF                              	DB	-1
   187 0000000A FF                              	DB	-1
   188 0000000B 00                              	DB	0
   189 0000000C 00                              	DB	0
   190 0000000D 00                              	DB	0
   191 0000000E FF                              	DB	-1
   192 0000000F FF                              	DB	-1
   193 00000010 00                              	DB	0
   194 00000011 FF                              	DB	-1
   195 00000012 00                              	DB	0
   196 00000013 FF                              	DB	-1
   197 00000014 FF                              	DB	-1
   198 00000015 FF                              	DB	-1
   199 00000016 FF                              	DB	-1
   200 00000017 FF                              	DB	-1
   201 00000018 C6                              	DB	-58
   202 00000019 C6                              	DB	-58
   203 0000001A C6                              	DB	-58
   204 0000001B 84                              	DB	-124
   205 0000001C 00                              	DB	0
   206 0000001D 00                              	DB	0
   207 0000001E 00                              	DB	0
   208 0000001F 84                              	DB	-124
   209 00000020 00                              	DB	0
   210 00000021 84                              	DB	-124
   211 00000022 84                              	DB	-124
   212 00000023 00                              	DB	0
   213 00000024 00                              	DB	0
   214 00000025 00                              	DB	0
   215 00000026 84                              	DB	-124
   216 00000027 84                              	DB	-124
   217 00000028 00                              	DB	0
   218 00000029 84                              	DB	-124
   219 0000002A 00                              	DB	0
   220 0000002B 84                              	DB	-124
   221 0000002C 84                              	DB	-124
   222 0000002D 84                              	DB	-124
   223 0000002E 84                              	DB	-124
   224 0000002F 84                              	DB	-124
   225                                          [SECTION .text]
   226 00000197                                 	GLOBAL	_init_palette
   227 00000197                                 _init_palette:
   228 00000197 55                              	PUSH	EBP
   229 00000198 89 E5                           	MOV	EBP,ESP
   230 0000019A 68 [00000000]                   	PUSH	_table_rgb.0
   231 0000019F 6A 0F                           	PUSH	15
   232 000001A1 6A 00                           	PUSH	0
   233 000001A3 E8 FFFFFF67                     	CALL	_set_palette
   234 000001A8 C9                              	LEAVE
   235 000001A9 C3                              	RET
   236 000001AA                                 	GLOBAL	_boxFill8
   237 000001AA                                 _boxFill8:
   238 000001AA 55                              	PUSH	EBP
   239 000001AB 89 E5                           	MOV	EBP,ESP
   240 000001AD 57                              	PUSH	EDI
   241 000001AE 56                              	PUSH	ESI
   242 000001AF 53                              	PUSH	EBX
   243 000001B0 51                              	PUSH	ECX
   244 000001B1 51                              	PUSH	ECX
   245 000001B2 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   246 000001B5 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   247 000001B8 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   248 000001BB 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   249 000001BE 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   250 000001C1 7F 31                           	JG	L40
   251 000001C3 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   252 000001C6 0F AF D9                        	IMUL	EBX,ECX
   253 000001C9                                 L38:
   254 000001C9 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   255 000001CC 39 FA                           	CMP	EDX,EDI
   256 000001CE 7F 1B                           	JG	L42
   257 000001D0 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   258 000001D3 01 DE                           	ADD	ESI,EBX
   259 000001D5 01 D6                           	ADD	ESI,EDX
   260 000001D7 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   261 000001DA                                 L37:
   262 000001DA 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   263 000001DD 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   264 000001E0 42                              	INC	EDX
   265 000001E1 88 06                           	MOV	BYTE [ESI],AL
   266 000001E3 46                              	INC	ESI
   267 000001E4 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   268 000001E7 39 FA                           	CMP	EDX,EDI
   269 000001E9 7E EF                           	JLE	L37
   270 000001EB                                 L42:
   271 000001EB 41                              	INC	ECX
   272 000001EC 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   273 000001EF 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   274 000001F2 7E D5                           	JLE	L38
   275 000001F4                                 L40:
   276 000001F4 58                              	POP	EAX
   277 000001F5 5A                              	POP	EDX
   278 000001F6 5B                              	POP	EBX
   279 000001F7 5E                              	POP	ESI
   280 000001F8 5F                              	POP	EDI
   281 000001F9 5D                              	POP	EBP
   282 000001FA C3                              	RET
   283 000001FB                                 	GLOBAL	_init_GUI
   284 000001FB                                 _init_GUI:
   285 000001FB 55                              	PUSH	EBP
   286 000001FC 89 E5                           	MOV	EBP,ESP
   287 000001FE 57                              	PUSH	EDI
   288 000001FF 56                              	PUSH	ESI
   289 00000200 53                              	PUSH	EBX
   290 00000201 83 EC 0C                        	SUB	ESP,12
   291 00000204 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   292 00000207 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   293 0000020A 83 E8 1D                        	SUB	EAX,29
   294 0000020D 4F                              	DEC	EDI
   295 0000020E 50                              	PUSH	EAX
   296 0000020F 57                              	PUSH	EDI
   297 00000210 6A 00                           	PUSH	0
   298 00000212 6A 00                           	PUSH	0
   299 00000214 6A 0E                           	PUSH	14
   300 00000216 FF 75 0C                        	PUSH	DWORD [12+EBP]
   301 00000219 FF 75 08                        	PUSH	DWORD [8+EBP]
   302 0000021C E8 FFFFFF89                     	CALL	_boxFill8
   303 00000221 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   304 00000224 83 E8 1C                        	SUB	EAX,28
   305 00000227 50                              	PUSH	EAX
   306 00000228 57                              	PUSH	EDI
   307 00000229 50                              	PUSH	EAX
   308 0000022A 6A 00                           	PUSH	0
   309 0000022C 6A 08                           	PUSH	8
   310 0000022E FF 75 0C                        	PUSH	DWORD [12+EBP]
   311 00000231 FF 75 08                        	PUSH	DWORD [8+EBP]
   312 00000234 E8 FFFFFF71                     	CALL	_boxFill8
   313 00000239 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   314 0000023C 83 C4 38                        	ADD	ESP,56
   315 0000023F 83 E8 1B                        	SUB	EAX,27
   316 00000242 50                              	PUSH	EAX
   317 00000243 57                              	PUSH	EDI
   318 00000244 50                              	PUSH	EAX
   319 00000245 6A 00                           	PUSH	0
   320 00000247 6A 07                           	PUSH	7
   321 00000249 FF 75 0C                        	PUSH	DWORD [12+EBP]
   322 0000024C FF 75 08                        	PUSH	DWORD [8+EBP]
   323 0000024F E8 FFFFFF56                     	CALL	_boxFill8
   324 00000254 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   325 00000257 48                              	DEC	EAX
   326 00000258 50                              	PUSH	EAX
   327 00000259 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   328 0000025C 57                              	PUSH	EDI
   329 0000025D 83 E8 1A                        	SUB	EAX,26
   330 00000260 50                              	PUSH	EAX
   331 00000261 6A 00                           	PUSH	0
   332 00000263 6A 08                           	PUSH	8
   333 00000265 FF 75 0C                        	PUSH	DWORD [12+EBP]
   334 00000268 FF 75 08                        	PUSH	DWORD [8+EBP]
   335 0000026B E8 FFFFFF3A                     	CALL	_boxFill8
   336 00000270 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   337 00000273 83 C4 38                        	ADD	ESP,56
   338 00000276 83 EE 18                        	SUB	ESI,24
   339 00000279 56                              	PUSH	ESI
   340 0000027A 6A 3B                           	PUSH	59
   341 0000027C 56                              	PUSH	ESI
   342 0000027D 6A 03                           	PUSH	3
   343 0000027F 6A 07                           	PUSH	7
   344 00000281 FF 75 0C                        	PUSH	DWORD [12+EBP]
   345 00000284 FF 75 08                        	PUSH	DWORD [8+EBP]
   346 00000287 E8 FFFFFF1E                     	CALL	_boxFill8
   347 0000028C 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   348 0000028F 83 E8 04                        	SUB	EAX,4
   349 00000292 50                              	PUSH	EAX
   350 00000293 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   351 00000296 6A 02                           	PUSH	2
   352 00000298 56                              	PUSH	ESI
   353 00000299 6A 02                           	PUSH	2
   354 0000029B 6A 07                           	PUSH	7
   355 0000029D FF 75 0C                        	PUSH	DWORD [12+EBP]
   356 000002A0 FF 75 08                        	PUSH	DWORD [8+EBP]
   357 000002A3 E8 FFFFFF02                     	CALL	_boxFill8
   358 000002A8 83 C4 38                        	ADD	ESP,56
   359 000002AB FF 75 F0                        	PUSH	DWORD [-16+EBP]
   360 000002AE 6A 3B                           	PUSH	59
   361 000002B0 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   362 000002B3 6A 03                           	PUSH	3
   363 000002B5 6A 0F                           	PUSH	15
   364 000002B7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   365 000002BA FF 75 08                        	PUSH	DWORD [8+EBP]
   366 000002BD E8 FFFFFEE8                     	CALL	_boxFill8
   367 000002C2 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   368 000002C5 83 E8 05                        	SUB	EAX,5
   369 000002C8 50                              	PUSH	EAX
   370 000002C9 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   371 000002CC 6A 3B                           	PUSH	59
   372 000002CE 83 E8 17                        	SUB	EAX,23
   373 000002D1 50                              	PUSH	EAX
   374 000002D2 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   375 000002D5 6A 3B                           	PUSH	59
   376 000002D7 6A 0F                           	PUSH	15
   377 000002D9 FF 75 0C                        	PUSH	DWORD [12+EBP]
   378 000002DC FF 75 08                        	PUSH	DWORD [8+EBP]
   379 000002DF E8 FFFFFEC6                     	CALL	_boxFill8
   380 000002E4 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   381 000002E7 83 C4 38                        	ADD	ESP,56
   382 000002EA 83 E8 03                        	SUB	EAX,3
   383 000002ED 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   384 000002F0 50                              	PUSH	EAX
   385 000002F1 6A 3B                           	PUSH	59
   386 000002F3 50                              	PUSH	EAX
   387 000002F4 6A 02                           	PUSH	2
   388 000002F6 6A 00                           	PUSH	0
   389 000002F8 FF 75 0C                        	PUSH	DWORD [12+EBP]
   390 000002FB FF 75 08                        	PUSH	DWORD [8+EBP]
   391 000002FE E8 FFFFFEA7                     	CALL	_boxFill8
   392 00000303 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   393 00000306 6A 3C                           	PUSH	60
   394 00000308 56                              	PUSH	ESI
   395 00000309 6A 3C                           	PUSH	60
   396 0000030B 6A 00                           	PUSH	0
   397 0000030D FF 75 0C                        	PUSH	DWORD [12+EBP]
   398 00000310 FF 75 08                        	PUSH	DWORD [8+EBP]
   399 00000313 E8 FFFFFE92                     	CALL	_boxFill8
   400 00000318 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   401 0000031B 83 C4 38                        	ADD	ESP,56
   402 0000031E 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   403 00000321 83 EB 04                        	SUB	EBX,4
   404 00000324 83 EF 2F                        	SUB	EDI,47
   405 00000327 56                              	PUSH	ESI
   406 00000328 53                              	PUSH	EBX
   407 00000329 56                              	PUSH	ESI
   408 0000032A 57                              	PUSH	EDI
   409 0000032B 6A 0F                           	PUSH	15
   410 0000032D FF 75 0C                        	PUSH	DWORD [12+EBP]
   411 00000330 FF 75 08                        	PUSH	DWORD [8+EBP]
   412 00000333 E8 FFFFFE72                     	CALL	_boxFill8
   413 00000338 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   414 0000033B 57                              	PUSH	EDI
   415 0000033C FF 75 EC                        	PUSH	DWORD [-20+EBP]
   416 0000033F 57                              	PUSH	EDI
   417 00000340 6A 0F                           	PUSH	15
   418 00000342 FF 75 0C                        	PUSH	DWORD [12+EBP]
   419 00000345 FF 75 08                        	PUSH	DWORD [8+EBP]
   420 00000348 E8 FFFFFE5D                     	CALL	_boxFill8
   421 0000034D 83 C4 38                        	ADD	ESP,56
   422 00000350 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   423 00000353 53                              	PUSH	EBX
   424 00000354 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   425 00000357 57                              	PUSH	EDI
   426 00000358 6A 07                           	PUSH	7
   427 0000035A FF 75 0C                        	PUSH	DWORD [12+EBP]
   428 0000035D FF 75 08                        	PUSH	DWORD [8+EBP]
   429 00000360 E8 FFFFFE45                     	CALL	_boxFill8
   430 00000365 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   431 00000368 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   432 0000036B 83 E8 03                        	SUB	EAX,3
   433 0000036E 50                              	PUSH	EAX
   434 0000036F 56                              	PUSH	ESI
   435 00000370 50                              	PUSH	EAX
   436 00000371 6A 07                           	PUSH	7
   437 00000373 FF 75 0C                        	PUSH	DWORD [12+EBP]
   438 00000376 FF 75 08                        	PUSH	DWORD [8+EBP]
   439 00000379 E8 FFFFFE2C                     	CALL	_boxFill8
   440 0000037E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   441 00000381 5B                              	POP	EBX
   442 00000382 5E                              	POP	ESI
   443 00000383 5F                              	POP	EDI
   444 00000384 5D                              	POP	EBP
   445 00000385 C3                              	RET
   446 00000386                                 	GLOBAL	_putFont8
   447 00000386                                 _putFont8:
   448 00000386 55                              	PUSH	EBP
   449 00000387 89 E5                           	MOV	EBP,ESP
   450 00000389 57                              	PUSH	EDI
   451 0000038A 56                              	PUSH	ESI
   452 0000038B 31 F6                           	XOR	ESI,ESI
   453 0000038D 53                              	PUSH	EBX
   454 0000038E 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   455 00000391 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
   456 00000394                                 L57:
   457 00000394 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   458 00000397 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   459 0000039A 01 F0                           	ADD	EAX,ESI
   460 0000039C 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   461 000003A0 03 45 08                        	ADD	EAX,DWORD [8+EBP]
   462 000003A3 8D 0C 02                        	LEA	ECX,DWORD [EDX+EAX*1]
   463 000003A6 8A 14 3E                        	MOV	DL,BYTE [ESI+EDI*1]
   464 000003A9 84 D2                           	TEST	DL,DL
   465 000003AB 79 02                           	JNS	L49
   466 000003AD 88 19                           	MOV	BYTE [ECX],BL
   467 000003AF                                 L49:
   468 000003AF 88 D0                           	MOV	AL,DL
   469 000003B1 83 E0 40                        	AND	EAX,64
   470 000003B4 84 C0                           	TEST	AL,AL
   471 000003B6 74 03                           	JE	L50
   472 000003B8 88 59 01                        	MOV	BYTE [1+ECX],BL
   473 000003BB                                 L50:
   474 000003BB 88 D0                           	MOV	AL,DL
   475 000003BD 83 E0 20                        	AND	EAX,32
   476 000003C0 84 C0                           	TEST	AL,AL
   477 000003C2 74 03                           	JE	L51
   478 000003C4 88 59 02                        	MOV	BYTE [2+ECX],BL
   479 000003C7                                 L51:
   480 000003C7 88 D0                           	MOV	AL,DL
   481 000003C9 83 E0 10                        	AND	EAX,16
   482 000003CC 84 C0                           	TEST	AL,AL
   483 000003CE 74 03                           	JE	L52
   484 000003D0 88 59 03                        	MOV	BYTE [3+ECX],BL
   485 000003D3                                 L52:
   486 000003D3 88 D0                           	MOV	AL,DL
   487 000003D5 83 E0 08                        	AND	EAX,8
   488 000003D8 84 C0                           	TEST	AL,AL
   489 000003DA 74 03                           	JE	L53
   490 000003DC 88 59 04                        	MOV	BYTE [4+ECX],BL
   491 000003DF                                 L53:
   492 000003DF 88 D0                           	MOV	AL,DL
   493 000003E1 83 E0 04                        	AND	EAX,4
   494 000003E4 84 C0                           	TEST	AL,AL
   495 000003E6 74 03                           	JE	L54
   496 000003E8 88 59 05                        	MOV	BYTE [5+ECX],BL
   497 000003EB                                 L54:
   498 000003EB 88 D0                           	MOV	AL,DL
   499 000003ED 83 E0 02                        	AND	EAX,2
   500 000003F0 84 C0                           	TEST	AL,AL
   501 000003F2 74 03                           	JE	L55
   502 000003F4 88 59 06                        	MOV	BYTE [6+ECX],BL
   503 000003F7                                 L55:
   504 000003F7 83 E2 01                        	AND	EDX,1
   505 000003FA 84 D2                           	TEST	DL,DL
   506 000003FC 74 03                           	JE	L47
   507 000003FE 88 59 07                        	MOV	BYTE [7+ECX],BL
   508 00000401                                 L47:
   509 00000401 46                              	INC	ESI
   510 00000402 83 FE 0F                        	CMP	ESI,15
   511 00000405 7E 8D                           	JLE	L57
   512 00000407 5B                              	POP	EBX
   513 00000408 5E                              	POP	ESI
   514 00000409 5F                              	POP	EDI
   515 0000040A 5D                              	POP	EBP
   516 0000040B C3                              	RET
   517 0000040C                                 	GLOBAL	_putFont8_asc
   518 0000040C                                 _putFont8_asc:
   519 0000040C 55                              	PUSH	EBP
   520 0000040D 89 E5                           	MOV	EBP,ESP
   521 0000040F 57                              	PUSH	EDI
   522 00000410 56                              	PUSH	ESI
   523 00000411 53                              	PUSH	EBX
   524 00000412 53                              	PUSH	EBX
   525 00000413 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   526 00000416 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   527 00000419 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   528 0000041C 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   529 0000041F 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   530 00000422 80 3B 00                        	CMP	BYTE [EBX],0
   531 00000425 75 08                           	JNE	L65
   532 00000427                                 L67:
   533 00000427 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   534 0000042A 5B                              	POP	EBX
   535 0000042B 5E                              	POP	ESI
   536 0000042C 5F                              	POP	EDI
   537 0000042D 5D                              	POP	EBP
   538 0000042E C3                              	RET
   539 0000042F                                 L65:
   540 0000042F 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   541 00000432 C1 E0 04                        	SAL	EAX,4
   542 00000435 43                              	INC	EBX
   543 00000436 05 [00000000]                   	ADD	EAX,_font
   544 0000043B 50                              	PUSH	EAX
   545 0000043C 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   546 00000440 50                              	PUSH	EAX
   547 00000441 57                              	PUSH	EDI
   548 00000442 56                              	PUSH	ESI
   549 00000443 83 C6 08                        	ADD	ESI,8
   550 00000446 FF 75 0C                        	PUSH	DWORD [12+EBP]
   551 00000449 FF 75 08                        	PUSH	DWORD [8+EBP]
   552 0000044C E8 FFFFFF35                     	CALL	_putFont8
   553 00000451 83 C4 18                        	ADD	ESP,24
   554 00000454 80 3B 00                        	CMP	BYTE [EBX],0
   555 00000457 75 D6                           	JNE	L65
   556 00000459 EB CC                           	JMP	L67
   557                                          [SECTION .data]
   558 00000030                                 _cursor.1:
   559 00000030 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..............."
       0000003A 2E 2E 2E 2E 2E 2E 
   560 00000040 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**.............."
       0000004A 2E 2E 2E 2E 2E 2E 
   561 00000050 2A 4F 2A 2E 2E 2E 2E 2E 2E 2E   	DB	"*O*............."
       0000005A 2E 2E 2E 2E 2E 2E 
   562 00000060 2A 4F 4F 2A 2E 2E 2E 2E 2E 2E   	DB	"*OO*............"
       0000006A 2E 2E 2E 2E 2E 2E 
   563 00000070 2A 4F 4F 4F 2A 2E 2E 2E 2E 2E   	DB	"*OOO*..........."
       0000007A 2E 2E 2E 2E 2E 2E 
   564 00000080 2A 4F 4F 4F 4F 2A 2E 2E 2E 2E   	DB	"*OOOO*.........."
       0000008A 2E 2E 2E 2E 2E 2E 
   565 00000090 2A 4F 4F 4F 4F 4F 2A 2E 2E 2E   	DB	"*OOOOO*........."
       0000009A 2E 2E 2E 2E 2E 2E 
   566 000000A0 2A 4F 4F 4F 4F 4F 4F 2A 2E 2E   	DB	"*OOOOOO*........"
       000000AA 2E 2E 2E 2E 2E 2E 
   567 000000B0 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000BA 2E 2E 2E 2E 2E 2E 
   568 000000C0 2A 4F 4F 4F 4F 2A 2A 2A 2A 2A   	DB	"*OOOO*****......"
       000000CA 2E 2E 2E 2E 2E 2E 
   569 000000D0 2A 4F 4F 2A 4F 2A 2E 2E 2E 2E   	DB	"*OO*O*.........."
       000000DA 2E 2E 2E 2E 2E 2E 
   570 000000E0 2A 4F 2A 2E 2A 4F 2A 2E 2E 2E   	DB	"*O*.*O*........."
       000000EA 2E 2E 2E 2E 2E 2E 
   571 000000F0 2A 2A 2E 2E 2A 4F 2A 2E 2E 2E   	DB	"**..*O*........."
       000000FA 2E 2E 2E 2E 2E 2E 
   572 00000100 2A 2E 2E 2E 2E 2A 4F 2A 2E 2E   	DB	"*....*O*........"
       0000010A 2E 2E 2E 2E 2E 2E 
   573 00000110 2E 2E 2E 2E 2E 2A 4F 2A 2E 2E   	DB	".....*O*........"
       0000011A 2E 2E 2E 2E 2E 2E 
   574 00000120 2E 2E 2E 2E 2E 2E 2A 2E 2E 2E   	DB	"......*........."
       0000012A 2E 2E 2E 2E 2E 2E 
   575                                          [SECTION .text]
   576 0000045B                                 	GLOBAL	_initMouseCursor8
   577 0000045B                                 _initMouseCursor8:
   578 0000045B 55                              	PUSH	EBP
   579 0000045C 89 E5                           	MOV	EBP,ESP
   580 0000045E 57                              	PUSH	EDI
   581 0000045F 56                              	PUSH	ESI
   582 00000460 53                              	PUSH	EBX
   583 00000461 31 DB                           	XOR	EBX,EBX
   584 00000463 57                              	PUSH	EDI
   585 00000464 31 FF                           	XOR	EDI,EDI
   586 00000466 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   587 00000469 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   588 0000046C 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   589 0000046F                                 L81:
   590 0000046F 31 D2                           	XOR	EDX,EDX
   591 00000471                                 L80:
   592 00000471 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   593 00000474 80 B8 [00000030] 2A             	CMP	BYTE [_cursor.1+EAX],42
   594 0000047B 74 35                           	JE	L86
   595 0000047D                                 L77:
   596 0000047D 80 B8 [00000030] 4F             	CMP	BYTE [_cursor.1+EAX],79
   597 00000484 74 26                           	JE	L87
   598 00000486                                 L78:
   599 00000486 80 B8 [00000030] 2E             	CMP	BYTE [_cursor.1+EAX],46
   600 0000048D 74 15                           	JE	L88
   601 0000048F                                 L75:
   602 0000048F 42                              	INC	EDX
   603 00000490 83 FA 0F                        	CMP	EDX,15
   604 00000493 7E DC                           	JLE	L80
   605 00000495 43                              	INC	EBX
   606 00000496 83 C7 10                        	ADD	EDI,16
   607 00000499 83 FB 0F                        	CMP	EBX,15
   608 0000049C 7E D1                           	JLE	L81
   609 0000049E 5E                              	POP	ESI
   610 0000049F 5B                              	POP	EBX
   611 000004A0 5E                              	POP	ESI
   612 000004A1 5F                              	POP	EDI
   613 000004A2 5D                              	POP	EBP
   614 000004A3 C3                              	RET
   615 000004A4                                 L88:
   616 000004A4 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   617 000004A7 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   618 000004AA EB E3                           	JMP	L75
   619 000004AC                                 L87:
   620 000004AC C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   621 000004B0 EB D4                           	JMP	L78
   622 000004B2                                 L86:
   623 000004B2 C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   624 000004B6 EB C5                           	JMP	L77
   625 000004B8                                 	GLOBAL	_putblock8_8
   626 000004B8                                 _putblock8_8:
   627 000004B8 55                              	PUSH	EBP
   628 000004B9 89 E5                           	MOV	EBP,ESP
   629 000004BB 57                              	PUSH	EDI
   630 000004BC 56                              	PUSH	ESI
   631 000004BD 31 F6                           	XOR	ESI,ESI
   632 000004BF 53                              	PUSH	EBX
   633 000004C0 83 EC 0C                        	SUB	ESP,12
   634 000004C3 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   635 000004C6 7D 3E                           	JGE	L101
   636 000004C8 31 FF                           	XOR	EDI,EDI
   637 000004CA                                 L99:
   638 000004CA 31 DB                           	XOR	EBX,EBX
   639 000004CC 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   640 000004CF 7D 2C                           	JGE	L103
   641 000004D1 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   642 000004D4 01 F8                           	ADD	EAX,EDI
   643 000004D6 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   644 000004D9                                 L98:
   645 000004D9 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   646 000004DC 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   647 000004DF 01 F0                           	ADD	EAX,ESI
   648 000004E1 01 DA                           	ADD	EDX,EBX
   649 000004E3 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   650 000004E7 01 D0                           	ADD	EAX,EDX
   651 000004E9 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   652 000004EC 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   653 000004EF 43                              	INC	EBX
   654 000004F0 8A 12                           	MOV	DL,BYTE [EDX]
   655 000004F2 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   656 000004F5 FF 45 EC                        	INC	DWORD [-20+EBP]
   657 000004F8 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   658 000004FB 7C DC                           	JL	L98
   659 000004FD                                 L103:
   660 000004FD 46                              	INC	ESI
   661 000004FE 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   662 00000501 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   663 00000504 7C C4                           	JL	L99
   664 00000506                                 L101:
   665 00000506 83 C4 0C                        	ADD	ESP,12
   666 00000509 5B                              	POP	EBX
   667 0000050A 5E                              	POP	ESI
   668 0000050B 5F                              	POP	EDI
   669 0000050C 5D                              	POP	EBP
   670 0000050D C3                              	RET
   671 0000050E                                 	GLOBAL	_init_pic
   672 0000050E                                 _init_pic:
   673 0000050E 55                              	PUSH	EBP
   674 0000050F 89 E5                           	MOV	EBP,ESP
   675 00000511 68 000000FF                     	PUSH	255
   676 00000516 6A 21                           	PUSH	33
   677 00000518 E8 [00000000]                   	CALL	_io_out8
   678 0000051D 68 000000FF                     	PUSH	255
   679 00000522 68 000000A1                     	PUSH	161
   680 00000527 E8 [00000000]                   	CALL	_io_out8
   681 0000052C 6A 11                           	PUSH	17
   682 0000052E 6A 20                           	PUSH	32
   683 00000530 E8 [00000000]                   	CALL	_io_out8
   684 00000535 6A 20                           	PUSH	32
   685 00000537 6A 21                           	PUSH	33
   686 00000539 E8 [00000000]                   	CALL	_io_out8
   687 0000053E 83 C4 20                        	ADD	ESP,32
   688 00000541 6A 04                           	PUSH	4
   689 00000543 6A 21                           	PUSH	33
   690 00000545 E8 [00000000]                   	CALL	_io_out8
   691 0000054A 6A 01                           	PUSH	1
   692 0000054C 6A 21                           	PUSH	33
   693 0000054E E8 [00000000]                   	CALL	_io_out8
   694 00000553 6A 11                           	PUSH	17
   695 00000555 68 000000A0                     	PUSH	160
   696 0000055A E8 [00000000]                   	CALL	_io_out8
   697 0000055F 6A 28                           	PUSH	40
   698 00000561 68 000000A1                     	PUSH	161
   699 00000566 E8 [00000000]                   	CALL	_io_out8
   700 0000056B 83 C4 20                        	ADD	ESP,32
   701 0000056E 6A 02                           	PUSH	2
   702 00000570 68 000000A1                     	PUSH	161
   703 00000575 E8 [00000000]                   	CALL	_io_out8
   704 0000057A 6A 01                           	PUSH	1
   705 0000057C 68 000000A1                     	PUSH	161
   706 00000581 E8 [00000000]                   	CALL	_io_out8
   707 00000586 68 000000FB                     	PUSH	251
   708 0000058B 6A 21                           	PUSH	33
   709 0000058D E8 [00000000]                   	CALL	_io_out8
   710 00000592 68 000000FF                     	PUSH	255
   711 00000597 68 000000A1                     	PUSH	161
   712 0000059C E8 [00000000]                   	CALL	_io_out8
   713 000005A1 C9                              	LEAVE
   714 000005A2 C3                              	RET
   715                                          [SECTION .data]
   716 00000130                                 LC0:
   717 00000130 53 48 4F 57 53 54 52 49 4E 47   	DB	"SHOWSTRING",0x00
       0000013A 00 
   718                                          [SECTION .text]
   719 000005A3                                 	GLOBAL	_HariMain
   720 000005A3                                 _HariMain:
   721 000005A3 55                              	PUSH	EBP
   722 000005A4 89 E5                           	MOV	EBP,ESP
   723 000005A6 57                              	PUSH	EDI
   724 000005A7 56                              	PUSH	ESI
   725 000005A8 53                              	PUSH	EBX
   726 000005A9 81 EC 00000104                  	SUB	ESP,260
   727 000005AF E8 FFFFFAC2                     	CALL	_initGdtit
   728 000005B4 E8 FFFFFF55                     	CALL	_init_pic
   729 000005B9 E8 FFFFFBD9                     	CALL	_init_palette
   730 000005BE B9 00000002                     	MOV	ECX,2
   731 000005C3 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   732 000005CA 0F BF 1D 00000FF6               	MOVSX	EBX,WORD [4086]
   733 000005D1 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
   734 000005D4 53                              	PUSH	EBX
   735 000005D5 89 D0                           	MOV	EAX,EDX
   736 000005D7 8D 73 D4                        	LEA	ESI,DWORD [-44+EBX]
   737 000005DA 99                              	CDQ
   738 000005DB F7 F9                           	IDIV	ECX
   739 000005DD 89 C7                           	MOV	EDI,EAX
   740 000005DF 8D 9D FFFFFEF4                  	LEA	EBX,DWORD [-268+EBP]
   741 000005E5 89 F0                           	MOV	EAX,ESI
   742 000005E7 99                              	CDQ
   743 000005E8 F7 F9                           	IDIV	ECX
   744 000005EA 89 C6                           	MOV	ESI,EAX
   745 000005EC 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   746 000005F3 50                              	PUSH	EAX
   747 000005F4 FF 35 00000FF8                  	PUSH	DWORD [4088]
   748 000005FA E8 FFFFFBFC                     	CALL	_init_GUI
   749 000005FF 68 [00000130]                   	PUSH	LC0
   750 00000604 6A 07                           	PUSH	7
   751 00000606 6A 1E                           	PUSH	30
   752 00000608 6A 1E                           	PUSH	30
   753 0000060A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   754 00000611 50                              	PUSH	EAX
   755 00000612 FF 35 00000FF8                  	PUSH	DWORD [4088]
   756 00000618 E8 FFFFFDEF                     	CALL	_putFont8_asc
   757 0000061D 83 C4 24                        	ADD	ESP,36
   758 00000620 6A 0E                           	PUSH	14
   759 00000622 53                              	PUSH	EBX
   760 00000623 E8 FFFFFE33                     	CALL	_initMouseCursor8
   761 00000628 6A 10                           	PUSH	16
   762 0000062A 53                              	PUSH	EBX
   763 0000062B 56                              	PUSH	ESI
   764 0000062C 57                              	PUSH	EDI
   765 0000062D 6A 10                           	PUSH	16
   766 0000062F 6A 10                           	PUSH	16
   767 00000631 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   768 00000638 50                              	PUSH	EAX
   769 00000639 FF 35 00000FF8                  	PUSH	DWORD [4088]
   770 0000063F E8 FFFFFE74                     	CALL	_putblock8_8
   771 00000644 83 C4 28                        	ADD	ESP,40
   772 00000647                                 L106:
   773 00000647 E8 [00000000]                   	CALL	_io_hlt
   774 0000064C EB F9                           	JMP	L106
